// gifplayer
(function(b){function a(d,c){this.previewElement=d;this.options=c;this.animationLoaded=false}a.scopes=new Array();a.prototype={supportedFormats:["gif","jpeg","jpg","png"],activate:function(){var c=this;if(this.previewElement.width()===0){setTimeout(function(){c.activate()},100)}else{c.mode=c.getOption("mode");c.wrap();c.addSpinner();c.addControl();c.addEvents()}},wrap:function(){this.previewElement.addClass("gifplayer-ready");this.wrapper=this.previewElement.wrap("<div class='gifplayer-wrapper'></div>").parent();this.wrapper.css("width",this.previewElement.width());this.wrapper.css("height",this.previewElement.height());this.previewElement.css("cursor","pointer")},addSpinner:function(){this.spinnerElement=b("<div class = 'spinner'></div>");this.wrapper.append(this.spinnerElement);this.spinnerElement.hide()},getOption:function(c){var d=this.previewElement.data(c.toLowerCase());if(d!=undefined&&d!=""){return d}else{return this.options[c]}},addControl:function(){var c=this.getOption("label");this.playElement=b("<ins class='play-gif'>"+c+"</ins>");this.wrapper.append(this.playElement);this.playElement.css("top",this.previewElement.height()/2-this.playElement.height()/2);this.playElement.css("left",this.previewElement.width()/2-this.playElement.width()/2)},addEvents:function(){var c=this;var d=this.getOption("playOn");switch(d){case"click":c.playElement.on("click",function(f){c.previewElement.trigger("click")});c.previewElement.on("click",function(f){c.loadAnimation();f.preventDefault();f.stopPropagation()});break;case"hover":c.previewElement.on("click mouseover",function(f){c.loadAnimation();f.preventDefault();f.stopPropagation()});break;case"auto":console.log("auto not implemented yet");break;default:console.log(d+" is not accepted as playOn value.")}},processScope:function(){scope=this.getOption("scope");if(scope){if(a.scopes[scope]){a.scopes[scope].stopGif()}a.scopes[scope]=this}},loadAnimation:function(){this.processScope();this.spinnerElement.show();if(this.mode=="gif"){this.loadGif()}else{if(this.mode=="video"){if(!this.videoLoaded){this.loadVideo()}else{this.playVideo()}}}this.getOption("onPlay").call(this.previewElement)},stopGif:function(){this.gifElement.hide();this.previewElement.show();this.playElement.show();this.resetEvents();this.getOption("onStop").call(this.previewElement)},getFile:function(d){var c=this.getOption(d);if(c!=undefined&&c!=""){return c}else{replaceString=this.previewElement.attr("src");for(i=0;i<this.supportedFormats.length;i++){pattrn=new RegExp(this.supportedFormats[i]+"$","i");replaceString=replaceString.replace(pattrn,d)}return replaceString}},loadGif:function(){var e=this;e.playElement.hide();if(!this.animationLoaded){this.enableAbort()}var g=this.getFile("gif");var d=this.previewElement.width();var c=this.previewElement.height();this.gifElement=b("<img class='gp-gif-element' width='"+d+"' height=' "+c+" '/>");var f=this.getOption("wait");if(f){this.gifElement.load(function(){e.animationLoaded=true;e.resetEvents();e.previewElement.hide();e.wrapper.append(e.gifElement);e.spinnerElement.hide();e.getOption("onLoadComplete").call(e.previewElement)})}else{e.animationLoaded=true;e.resetEvents();e.previewElement.hide();e.wrapper.append(e.gifElement);e.spinnerElement.hide()}this.gifElement.css("cursor","pointer");this.gifElement.css("position","absolute");this.gifElement.css("top","0");this.gifElement.css("left","0");this.gifElement.attr("src",g);this.gifElement.click(function(h){b(this).remove();e.stopGif();h.preventDefault();h.stopPropagation()});e.getOption("onLoad").call(e.previewElement)},loadVideo:function(){this.videoLoaded=true;var f=this.getFile("mp4");var j=this.getFile("webm");var h=this.previewElement.width();var d=this.previewElement.height();this.videoElement=b('<video class="gp-video-element" width="'+h+'px" height="'+d+'" style="margin:0 auto;width:'+h+"px;height:"+d+'px;" autoplay="autoplay" loop="loop" muted="muted" poster="'+this.previewElement.attr("src")+'"><source type="video/mp4" src="'+f+'"><source type="video/webm" src="'+j+'"></video>');var e=this;var c=function(){if(e.videoElement[0].readyState===4){e.playVideo();e.animationLoaded=true}else{setTimeout(c,100)}};var g=this.getOption("wait");if(g){c()}else{this.playVideo()}this.videoElement.on("click",function(){if(e.videoPaused){e.resumeVideo()}else{e.pauseVideo()}})},playVideo:function(){this.spinnerElement.hide();this.previewElement.hide();this.playElement.hide();this.gifLoaded=true;this.previewElement.hide();this.wrapper.append(this.videoElement);this.videoPaused=false;this.videoElement[0].play();this.getOption("onPlay").call(this.previewElement)},pauseVideo:function(){this.videoPaused=true;this.videoElement[0].pause();this.playElement.show();this.mouseoverEnabled=false;this.getOption("onStop").call(this.previewElement)},resumeVideo:function(){this.videoPaused=false;this.videoElement[0].play();this.playElement.hide();this.getOption("onPlay").call(this.previewElement)},enableAbort:function(){var c=this;this.previewElement.click(function(d){c.abortLoading(d)});this.spinnerElement.click(function(d){c.abortLoading(d)})},abortLoading:function(c){this.spinnerElement.hide();this.playElement.show();c.preventDefault();c.stopPropagation();this.gifElement.off("load").on("load",function(d){d.preventDefault();d.stopPropagation()});this.resetEvents();this.getOption("onStop").call(this.previewElement)},resetEvents:function(){this.previewElement.off("click");this.previewElement.off("mouseover");this.playElement.off("click");this.spinnerElement.off("click");this.addEvents()}};b.fn.gifplayer=function(c){if(/^(play|stop)$/i.test(c)){return this.each(function(){c=c.toLowerCase();if(b(this).hasClass("gifplayer-ready")){var d=new a(b(this),null);d.options={};d.options=b.extend({},b.fn.gifplayer.defaults,d.options);d.wrapper=b(this).parent();d.spinnerElement=d.wrapper.find(".spinner");d.playElement=d.wrapper.find(".play-gif");d.gifElement=d.wrapper.find(".gp-gif-element");d.videoElement=d.wrapper.find(".gp-video-element");d.mode=d.getOption("mode");switch(c){case"play":d.playElement.trigger("click");break;case"stop":if(!d.playElement.is(":visible")){if(d.mode=="gif"){d.stopGif()}else{if(d.mode=="video"){d.videoElement.trigger("click")}}}break}}})}else{return this.each(function(){c=b.extend({},b.fn.gifplayer.defaults,c);var d=new a(b(this),c);d.activate()})}};b.fn.gifplayer.defaults={label:"GIF",playOn:"click",mode:"gif",gif:"",mp4:"",webm:"",wait:false,scope:false,onPlay:function(){},onStop:function(){},onLoad:function(){},onLoadComplete:function(){}}})(jQuery);
// jquery validate
(function(t){t.extend(t.fn,{validate:function(e){if(!this.length)return e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."),void 0;var i=t.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.validateDelegate(":submit","click",function(e){i.settings.submitHandler&&(i.submitButton=e.target),t(e.target).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(e.target).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.submit(function(e){function s(){var s;return i.settings.submitHandler?(i.submitButton&&(s=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),i.settings.submitHandler.call(i,i.currentForm,e),i.submitButton&&s.remove(),!1):!0}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,s()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):s():(i.focusInvalid(),!1)})),i)},valid:function(){if(t(this[0]).is("form"))return this.validate().form();var e=!0,i=t(this[0].form).validate();return this.each(function(){e=e&&i.element(this)}),e},removeAttrs:function(e){var i={},s=this;return t.each(e.split(/\s/),function(t,e){i[e]=s.attr(e),s.removeAttr(e)}),i},rules:function(e,i){var s=this[0];if(e){var r=t.data(s.form,"validator").settings,n=r.rules,a=t.validator.staticRules(s);switch(e){case"add":t.extend(a,t.validator.normalizeRule(i)),delete a.messages,n[s.name]=a,i.messages&&(r.messages[s.name]=t.extend(r.messages[s.name],i.messages));break;case"remove":if(!i)return delete n[s.name],a;var u={};return t.each(i.split(/\s/),function(t,e){u[e]=a[e],delete a[e]}),u}}var o=t.validator.normalizeRules(t.extend({},t.validator.classRules(s),t.validator.attributeRules(s),t.validator.dataRules(s),t.validator.staticRules(s)),s);if(o.required){var l=o.required;delete o.required,o=t.extend({required:l},o)}return o}}),t.extend(t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){return!!t.trim(""+t(e).val())},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(t)).hide())},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){(9!==e.which||""!==this.elementValue(t))&&(t.name in this.submitted||t===this.lastElement)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(s):t(e).addClass(i).removeClass(s)},unhighlight:function(e,i,s){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(s):t(e).removeClass(i).addClass(s)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function e(e){var i=t.data(this[0].form,"validator"),s="on"+e.type.replace(/^validate/,"");i.settings[s]&&i.settings[s].call(i,this[0],e)}this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i=this.groups={};t.each(this.settings.groups,function(e,s){"string"==typeof s&&(s=s.split(/\s/)),t.each(s,function(t,s){i[s]=e})});var s=this.settings.rules;t.each(s,function(e,i){s[e]=t.validator.normalizeRule(i)}),t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",e).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",e),this.settings.invalidHandler&&t(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){e=this.validationTargetFor(this.clean(e)),this.lastElement=e,this.prepareElement(e),this.currentElements=t(e);var i=this.check(e)!==!1;return i?delete this.invalid[e.name]:this.invalid[e.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),i},showErrors:function(e){if(e){t.extend(this.errorMap,e),this.errorList=[];for(var i in e)this.errorList.push({message:e[i],element:this.findByName(i)[0]});this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e=0;for(var i in t)e++;return e},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(e){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in i||!e.objectLength(t(this).rules())?!1:(i[this.name]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.replace(" ",".");return t(this.settings.errorElement+"."+e,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([]),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i=t(e).attr("type"),s=t(e).val();return"radio"===i||"checkbox"===i?t("input[name='"+t(e).attr("name")+"']:checked").val():"string"==typeof s?s.replace(/\r/g,""):s},check:function(e){e=this.validationTargetFor(this.clean(e));var i,s=t(e).rules(),r=!1,n=this.elementValue(e);for(var a in s){var u={method:a,parameters:s[a]};try{if(i=t.validator.methods[a].call(this,n,e,u.parameters),"dependency-mismatch"===i){r=!0;continue}if(r=!1,"pending"===i)return this.toHide=this.toHide.not(this.errorsFor(e)),void 0;if(!i)return this.formatAndAdd(e,u),!1}catch(o){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+u.method+"' method.",o),o}}return r?void 0:(this.objectLength(s)&&this.successList.push(e),!0)},customDataMessage:function(e,i){return t(e).data("msg-"+i.toLowerCase())||e.attributes&&t(e).attr("data-msg-"+i.toLowerCase())},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;arguments.length>t;t++)if(void 0!==arguments[t])return arguments[t];return void 0},defaultMessage:function(e,i){return this.findDefined(this.customMessage(e.name,i),this.customDataMessage(e,i),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i],"<strong>Warning: No message defined for "+e.name+"</strong>")},formatAndAdd:function(e,i){var s=this.defaultMessage(e,i.method),r=/\$?\{(\d+)\}/g;"function"==typeof s?s=s.call(this,i.parameters,e):r.test(s)&&(s=t.validator.format(s.replace(r,"{$1}"),i.parameters)),this.errorList.push({message:s,element:e}),this.errorMap[e.name]=s,this.submitted[e.name]=s},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e;for(t=0;this.errorList[t];t++){var i=this.errorList[t];this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var s=this.errorsFor(e);s.length?(s.removeClass(this.settings.validClass).addClass(this.settings.errorClass),s.html(i)):(s=t("<"+this.settings.errorElement+">").attr("for",this.idOrName(e)).addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(s=s.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(s).length||(this.settings.errorPlacement?this.settings.errorPlacement(s,t(e)):s.insertAfter(e))),!i&&this.settings.success&&(s.text(""),"string"==typeof this.settings.success?s.addClass(this.settings.success):this.settings.success(s,e)),this.toShow=this.toShow.add(s)},errorsFor:function(e){var i=this.idOrName(e);return this.errors().filter(function(){return t(this).attr("for")===i})},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name).not(this.settings.ignore)[0]),t},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+e+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return this.dependTypes[typeof t]?this.dependTypes[typeof t](t,e):!0},dependTypes:{"boolean":function(t){return t},string:function(e,i){return!!t(e,i.form).length},"function":function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,this.pending[t.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,0>this.pendingRequest&&(this.pendingRequest=0),delete this.pending[e.name],i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e){return t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},s=t(e).attr("class");return s&&t.each(s.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},attributeRules:function(e){var i={},s=t(e),r=s[0].getAttribute("type");for(var n in t.validator.methods){var a;"required"===n?(a=s.get(0).getAttribute(n),""===a&&(a=!0),a=!!a):a=s.attr(n),/min|max/.test(n)&&(null===r||/number|range|text/.test(r))&&(a=Number(a)),a?i[n]=a:r===n&&"range"!==r&&(i[n]=!0)}return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(e){var i,s,r={},n=t(e);for(i in t.validator.methods)s=n.data("rule-"+i.toLowerCase()),void 0!==s&&(r[i]=s);return r},staticRules:function(e){var i={},s=t.data(e.form,"validator");return s.settings.rules&&(i=t.validator.normalizeRule(s.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(s,r){if(r===!1)return delete e[s],void 0;if(r.param||r.depends){var n=!0;switch(typeof r.depends){case"string":n=!!t(r.depends,i.form).length;break;case"function":n=r.depends.call(i,i)}n?e[s]=void 0!==r.param?r.param:!0:delete e[s]}}),t.each(e,function(s,r){e[s]=t.isFunction(r)?r(i):r}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(e.min&&e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),e.minlength&&e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,s){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==s?s:t.validator.messages[e],3>i.length&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,s){if(!this.depend(s,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var r=t(i).val();return r&&r.length>0}return this.checkable(i)?this.getLength(e,i)>0:t.trim(e).length>0},email:function(t,e){return this.optional(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(t)},url:function(t,e){return this.optional(e)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(""+new Date(t))},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(t)},number:function(t,e){return this.optional(e)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},creditcard:function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i=0,s=0,r=!1;t=t.replace(/\D/g,"");for(var n=t.length-1;n>=0;n--){var a=t.charAt(n);s=parseInt(a,10),r&&(s*=2)>9&&(s-=9),i+=s,r=!r}return 0===i%10},minlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s},maxlength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||s>=r},rangelength:function(e,i,s){var r=t.isArray(e)?e.length:this.getLength(t.trim(e),i);return this.optional(i)||r>=s[0]&&s[1]>=r},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||i>=t},range:function(t,e,i){return this.optional(e)||t>=i[0]&&i[1]>=t},equalTo:function(e,i,s){var r=t(s);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){t(i).valid()}),e===r.val()},remote:function(e,i,s){if(this.optional(i))return"dependency-mismatch";var r=this.previousValue(i);if(this.settings.messages[i.name]||(this.settings.messages[i.name]={}),r.originalMessage=this.settings.messages[i.name].remote,this.settings.messages[i.name].remote=r.message,s="string"==typeof s&&{url:s}||s,r.old===e)return r.valid;r.old=e;var n=this;this.startRequest(i);var a={};return a[i.name]=e,t.ajax(t.extend(!0,{url:s,mode:"abort",port:"validate"+i.name,dataType:"json",data:a,success:function(s){n.settings.messages[i.name].remote=r.originalMessage;var a=s===!0||"true"===s;if(a){var u=n.formSubmitted;n.prepareElement(i),n.formSubmitted=u,n.successList.push(i),delete n.invalid[i.name],n.showErrors()}else{var o={},l=s||n.defaultMessage(i,"remote");o[i.name]=r.message=t.isFunction(l)?l(e):l,n.invalid[i.name]=!0,n.showErrors(o)}r.valid=a,n.stopRequest(i,a)}},s)),"pending"}}}),t.format=t.validator.format})(jQuery),function(t){var e={};if(t.ajaxPrefilter)t.ajaxPrefilter(function(t,i,s){var r=t.port;"abort"===t.mode&&(e[r]&&e[r].abort(),e[r]=s)});else{var i=t.ajax;t.ajax=function(s){var r=("mode"in s?s:t.ajaxSettings).mode,n=("port"in s?s:t.ajaxSettings).port;return"abort"===r?(e[n]&&e[n].abort(),e[n]=i.apply(this,arguments),e[n]):i.apply(this,arguments)}}}(jQuery),function(t){t.extend(t.fn,{validateDelegate:function(e,i,s){return this.bind(i,function(i){var r=t(i.target);return r.is(e)?s.apply(r,arguments):void 0})}})}(jQuery);
// autosize
!function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.autosize=n.exports}}(this,function(e,t){"use strict";function n(e){function t(){var t=window.getComputedStyle(e,null);p=t.overflowY,"vertical"===t.resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),c="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(c)&&(c=0),i()}function n(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,p=t,f&&(e.style.overflowY=t),o()}function o(){var t=window.pageYOffset,n=document.body.scrollTop,o=e.style.height;e.style.height="auto";var i=e.scrollHeight+c;return 0===e.scrollHeight?void(e.style.height=o):(e.style.height=i+"px",v=e.clientWidth,document.documentElement.scrollTop=t,void(document.body.scrollTop=n))}function i(){var t=e.style.height;o();var i=window.getComputedStyle(e,null);if(i.height!==e.style.height?"visible"!==p&&n("visible"):"hidden"!==p&&n("hidden"),t!==e.style.height){var r=d("autosize:resized");e.dispatchEvent(r)}}var s=void 0===arguments[1]?{}:arguments[1],a=s.setOverflowX,l=void 0===a?!0:a,u=s.setOverflowY,f=void 0===u?!0:u;if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!r.has(e)){var c=null,p=null,v=e.clientWidth,h=function(){e.clientWidth!==v&&i()},y=function(t){window.removeEventListener("resize",h,!1),e.removeEventListener("input",i,!1),e.removeEventListener("keyup",i,!1),e.removeEventListener("autosize:destroy",y,!1),e.removeEventListener("autosize:update",i,!1),r["delete"](e),Object.keys(t).forEach(function(n){e.style[n]=t[n]})}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",y,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",i,!1),window.addEventListener("resize",h,!1),e.addEventListener("input",i,!1),e.addEventListener("autosize:update",i,!1),r.add(e),l&&(e.style.overflowX="hidden",e.style.wordWrap="break-word"),t()}}function o(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=d("autosize:destroy");e.dispatchEvent(t)}}function i(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName){var t=d("autosize:update");e.dispatchEvent(t)}}var r="function"==typeof Set?new Set:function(){var e=[];return{has:function(t){return Boolean(e.indexOf(t)>-1)},add:function(t){e.push(t)},"delete":function(t){e.splice(e.indexOf(t),1)}}}(),d=function(e){return new Event(e)};try{new Event("test")}catch(s){d=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}var a=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?(a=function(e){return e},a.destroy=function(e){return e},a.update=function(e){return e}):(a=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e,t)}),e},a.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e},a.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e}),t.exports=a});
// bootstrap
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.3.6",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t(s);e&&e.preventDefault(),a.length||(a=n.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof e&&e;n||o.data("bs.button",n=new i(this,s)),"toggle"==e?n.toggle():e&&n.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.6",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,n=o.is("input")?"val":"html",s=o.data();e+="Text",null==s.resetText&&o.data("resetText",o[n]()),setTimeout(t.proxy(function(){o[n](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target);o.hasClass("btn")||(o=o.closest(".btn")),e.call(o,"toggle"),t(i.target).is('input[type="radio"]')||t(i.target).is('input[type="checkbox"]')||i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;n||o.data("bs.carousel",n=new i(this,s)),"number"==typeof e?n.to(e):a?n[a]():s.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),o="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(o&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,o){var n=this.$element.find(".item.active"),s=o||this.getItemForDirection(e,n),a=this.interval,r="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var h=s[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(r),s.addClass(r),n.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var n=function(i){var o,n=t(this),s=t(n.attr("data-target")||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=t.extend({},s.data(),n.data()),r=n.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),s=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!n&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),n||i.data("bs.collapse",n=new o(this,s)),"string"==typeof e&&n[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.6",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(o.TRANSITION_DURATION):n.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var n=t(o);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var n=t(this);n.attr("data-target")||o.preventDefault();var s=e(n),a=s.data("bs.collapse"),r=a?"toggle":n.data();i.call(s,r)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function i(i){i&&3===i.which||(t(n).remove(),t(s).each(function(){var o=t(this),n=e(o),s={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(o.attr("aria-expanded","false"),n.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new a(this)),"string"==typeof e&&o[e].call(i)})}var n=".dropdown-backdrop",s='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.6",a.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=e(n),a=s.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var o=t(this);if(i.preventDefault(),i.stopPropagation(),!o.is(".disabled, :disabled")){var n=e(o),a=n.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&n.find(s).trigger("focus"),o.trigger("click");var r=" li:not(.disabled):visible a",l=n.find(".dropdown-menu"+r);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,a.prototype.toggle).on("keydown.bs.dropdown.data-api",s,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new i(this,a)),"string"==typeof e?s[e](o):a.show&&s.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.6",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),n=o.attr("href"),s=t(o.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),o.data());o.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(s,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||o.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),p=s[0].offsetWidth,c=s[0].offsetHeight;if(h){var f=r,u=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+c>u.bottom?"top":"top"==r&&d.top-c<u.top?"bottom":"right"==r&&d.right+p>u.width?"left":"left"==r&&d.left-p<u.left?"right":r,s.removeClass(f).addClass(r)}var g=this.getCalculatedOffset(r,d,p,c);this.applyPlacement(g,r);var v=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-n+l:2*d.top-s+h,f=p?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],p)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&s.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=o?{top:0,left:0}:e.offset(),a={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,a,r,s)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+o;r<a.top?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var h=e.left-s,d=e.left+s+i;h<a.left?n.left=a.left-h:d>a.right&&(n.left=a.left+a.width-d)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof e&&e;(n||!/destroy|hide/.test(e))&&(n||o.data("bs.popover",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.6",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(i,o){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.6",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[i]().top+o,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy");
},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,o,n){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var a=o.find("> .active"),r=n&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof e&&e;n||o.data("bs.affix",n=new i(this,s)),"string"==typeof e&&n[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.6",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return i>n?"top":!1;if("bottom"==this.affixed)return null!=i?n+this.unpin<=s.top?!1:"bottom":t-o>=n+a?!1:"bottom";var r=null==this.affixed,l=r?n:s.top,h=r?a:e;return null!=i&&i>=n?"top":null!=o&&l+h>=t-o?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,n=o.top,s=o.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var r=this.getState(a,e,n,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery);
// jqrop
!function(e){e.Jcrop=function(t,n){function o(e){return Math.round(e)+"px"}function r(e){return J.baseClass+"-"+e}function i(){return e.fx.step.hasOwnProperty("backgroundColor")}function a(t){var n=e(t).offset();return[n.left,n.top]}function s(e){return[e.pageX-P[0],e.pageY-P[1]]}function c(t){"object"!=typeof t&&(t={}),J=e.extend(J,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){"function"!=typeof J[t]&&(J[t]=function(){})})}function u(e,t,n){if(P=a(q),pe.setCursor("move"===e?e:e+"-resize"),"move"===e)return pe.activateHandlers(l(t),b,n);var o=le.getFixed(),r=h(e),i=le.getCorner(h(r));le.setPressed(le.getCorner(r)),le.setCurrent(i),pe.activateHandlers(d(e,o),b,n)}function d(e,t){return function(n){if(J.aspectRatio)switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1}else switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2}le.setCurrent(n),fe.update()}}function l(e){var t=e;return ge.watchKeys(),function(e){le.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,fe.update()}}function h(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function f(e){return function(t){return J.disabled?!1:"move"!==e||J.allowMove?(P=a(q),oe=!0,u(e,s(t)),t.stopPropagation(),t.preventDefault(),!1):!1}}function p(e,t,n){var o=e.width(),r=e.height();o>t&&t>0&&(o=t,r=t/e.width()*e.height()),r>n&&n>0&&(r=n,o=n/e.height()*e.width()),te=e.width()/o,ne=e.height()/r,e.width(o).height(r)}function g(e){return{x:e.x*te,y:e.y*ne,x2:e.x2*te,y2:e.y2*ne,w:e.w*te,h:e.h*ne}}function b(e){var t=le.getFixed();t.w>J.minSelect[0]&&t.h>J.minSelect[1]?(fe.enableHandles(),fe.done()):fe.release(),pe.setCursor(J.allowSelect?"crosshair":"default")}function w(e){if(J.disabled)return!1;if(!J.allowSelect)return!1;oe=!0,P=a(q),fe.disableHandles(),pe.setCursor("crosshair");var t=s(e);return le.setPressed(t),fe.update(),pe.activateHandlers(v,b,"touch"===e.type.substring(0,5)),ge.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function v(e){le.setCurrent(e),fe.update()}function y(){var t=e("<div></div>").addClass(r("tracker"));return R&&t.css({opacity:0,backgroundColor:"white"}),t}function m(e){G.removeClass().addClass(r("holder")).addClass(e)}function x(e,t){function n(){window.setTimeout(v,l)}var o=e[0]/te,r=e[1]/ne,i=e[2]/te,a=e[3]/ne;if(!re){var s=le.flipCoords(o,r,i,a),c=le.getFixed(),u=[c.x,c.y,c.x2,c.y2],d=u,l=J.animationDelay,h=s[0]-u[0],f=s[1]-u[1],p=s[2]-u[2],g=s[3]-u[3],b=0,w=J.swingSpeed;o=d[0],r=d[1],i=d[2],a=d[3],fe.animMode(!0);var v=function(){return function(){b+=(100-b)/w,d[0]=Math.round(o+b/100*h),d[1]=Math.round(r+b/100*f),d[2]=Math.round(i+b/100*p),d[3]=Math.round(a+b/100*g),b>=99.8&&(b=100),100>b?(S(d),n()):(fe.done(),fe.animMode(!1),"function"==typeof t&&t.call(be))}}();n()}}function C(e){S([e[0]/te,e[1]/ne,e[2]/te,e[3]/ne]),J.onSelect.call(be,g(le.getFixed())),fe.enableHandles()}function S(e){le.setPressed([e[0],e[1]]),le.setCurrent([e[2],e[3]]),fe.update()}function k(){return g(le.getFixed())}function z(){return le.getFixed()}function M(e){c(e),B()}function O(){J.disabled=!0,fe.disableHandles(),fe.setCursor("default"),pe.setCursor("default")}function j(){J.disabled=!1,B()}function F(){fe.done(),pe.activateHandlers(null,null)}function H(){G.remove(),E.show(),E.css("visibility","visible"),e(t).removeData("Jcrop")}function D(e,t){fe.release(),O();var n=new Image;n.onload=function(){var o=n.width,r=n.height,i=J.boxWidth,a=J.boxHeight;q.width(o).height(r),q.attr("src",e),N.attr("src",e),p(q,i,a),L=q.width(),X=q.height(),N.width(L).height(X),se.width(L+2*ae).height(X+2*ae),G.width(L).height(X),he.resize(L,X),j(),"function"==typeof t&&t.call(be)},n.src=e}function I(e,t,n){var o=t||J.bgColor;J.bgFade&&i()&&J.fadeTime&&!n?e.animate({backgroundColor:o},{queue:!1,duration:J.fadeTime}):e.css("backgroundColor",o)}function B(e){J.allowResize?e?fe.enableOnly():fe.enableHandles():fe.disableHandles(),pe.setCursor(J.allowSelect?"crosshair":"default"),fe.setCursor(J.allowMove?"move":"default"),J.hasOwnProperty("trueSize")&&(te=J.trueSize[0]/L,ne=J.trueSize[1]/X),J.hasOwnProperty("setSelect")&&(C(J.setSelect),fe.done(),delete J.setSelect),he.refresh(),J.bgColor!=ce&&(I(J.shade?he.getShades():G,J.shade?J.shadeColor||J.bgColor:J.bgColor),ce=J.bgColor),ue!=J.bgOpacity&&(ue=J.bgOpacity,J.shade?he.refresh():fe.setBgOpacity(ue)),Z=J.maxSize[0]||0,$=J.maxSize[1]||0,_=J.minSize[0]||0,ee=J.minSize[1]||0,J.hasOwnProperty("outerImage")&&(q.attr("src",J.outerImage),delete J.outerImage),fe.refresh()}var P,J=e.extend({},e.Jcrop.defaults),A=navigator.userAgent.toLowerCase(),R=/msie/.test(A),T=/msie [1-6]\./.test(A);"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof n&&(n={}),c(n);var K={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},E=e(t),W=!0;if("IMG"==t.tagName){if(0!=E[0].width&&0!=E[0].height)E.width(E[0].width),E.height(E[0].height);else{var Y=new Image;Y.src=E[0].src,E.width(Y.width),E.height(Y.height)}var q=E.clone().removeAttr("id").css(K).show();q.width(E.width()),q.height(E.height()),E.after(q).hide()}else q=E.css(K).show(),W=!1,null===J.shade&&(J.shade=!0);p(q,J.boxWidth,J.boxHeight);var L=q.width(),X=q.height(),G=e("<div />").width(L).height(X).addClass(r("holder")).css({position:"relative",backgroundColor:J.bgColor}).insertAfter(E).append(q);J.addClass&&G.addClass(J.addClass);var N=e("<div />"),V=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),Q=e("<div />").width("100%").height("100%").css("zIndex",320),U=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=le.getFixed();J.onDblClick.call(be,e)}).insertBefore(q).append(V,Q);W&&(N=e("<img />").attr("src",q.attr("src")).css(K).width(L).height(X),V.append(N)),T&&U.css({overflowY:"hidden"});var Z,$,_,ee,te,ne,oe,re,ie,ae=J.boundary,se=y().width(L+2*ae).height(X+2*ae).css({position:"absolute",top:o(-ae),left:o(-ae),zIndex:290}).mousedown(w),ce=J.bgColor,ue=J.bgOpacity;P=a(q);var de=function(){function e(){var e,t={},n=["touchstart","touchmove","touchend"],o=document.createElement("div");try{for(e=0;e<n.length;e++){var r=n[e];r="on"+r;var i=r in o;i||(o.setAttribute(r,"return;"),i="function"==typeof o[r]),t[n[e]]=i}return t.touchstart&&t.touchend&&t.touchmove}catch(a){return!1}}function t(){return J.touchSupport===!0||J.touchSupport===!1?J.touchSupport:e()}return{createDragger:function(e){return function(t){return J.disabled?!1:"move"!==e||J.allowMove?(P=a(q),oe=!0,u(e,s(de.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1):!1}},newSelection:function(e){return w(de.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:t()}}(),le=function(){function e(e){e=a(e),p=h=e[0],g=f=e[1]}function t(e){e=a(e),d=e[0]-p,l=e[1]-g,p=e[0],g=e[1]}function n(){return[d,l]}function o(e){var t=e[0],n=e[1];0>h+t&&(t-=t+h),0>f+n&&(n-=n+f),g+n>X&&(n+=X-(g+n)),p+t>L&&(t+=L-(p+t)),h+=t,p+=t,f+=n,g+=n}function r(e){var t=i();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function i(){if(!J.aspectRatio)return c();var e,t,n,o,r=J.aspectRatio,i=J.minSize[0]/te,a=J.maxSize[0]/te,d=J.maxSize[1]/ne,l=p-h,b=g-f,w=Math.abs(l),v=Math.abs(b),y=w/v;return 0===a&&(a=10*L),0===d&&(d=10*X),r>y?(t=g,n=v*r,e=0>l?h-n:n+h,0>e?(e=0,o=Math.abs((e-h)/r),t=0>b?f-o:o+f):e>L&&(e=L,o=Math.abs((e-h)/r),t=0>b?f-o:o+f)):(e=p,o=w/r,t=0>b?f-o:f+o,0>t?(t=0,n=Math.abs((t-f)*r),e=0>l?h-n:n+h):t>X&&(t=X,n=Math.abs(t-f)*r,e=0>l?h-n:n+h)),e>h?(i>e-h?e=h+i:e-h>a&&(e=h+a),t=t>f?f+(e-h)/r:f-(e-h)/r):h>e&&(i>h-e?e=h-i:h-e>a&&(e=h-a),t=t>f?f+(h-e)/r:f-(h-e)/r),0>e?(h-=e,e=0):e>L&&(h-=e-L,e=L),0>t?(f-=t,t=0):t>X&&(f-=t-X,t=X),u(s(h,f,e,t))}function a(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>L&&(e[0]=L),e[1]>X&&(e[1]=X),[Math.round(e[0]),Math.round(e[1])]}function s(e,t,n,o){var r=e,i=n,a=t,s=o;return e>n&&(r=n,i=e),t>o&&(a=o,s=t),[r,a,i,s]}function c(){var e,t=p-h,n=g-f;return Z&&Math.abs(t)>Z&&(p=t>0?h+Z:h-Z),$&&Math.abs(n)>$&&(g=n>0?f+$:f-$),ee/ne&&Math.abs(n)<ee/ne&&(g=n>0?f+ee/ne:f-ee/ne),_/te&&Math.abs(t)<_/te&&(p=t>0?h+_/te:h-_/te),0>h&&(p-=h,h-=h),0>f&&(g-=f,f-=f),0>p&&(h-=p,p-=p),0>g&&(f-=g,g-=g),p>L&&(e=p-L,h-=e,p-=e),g>X&&(e=g-X,f-=e,g-=e),h>L&&(e=h-X,g-=e,f-=e),f>X&&(e=f-X,g-=e,f-=e),u(s(h,f,p,g))}function u(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var d,l,h=0,f=0,p=0,g=0;return{flipCoords:s,setPressed:e,setCurrent:t,getOffset:n,moveOffset:o,getCorner:r,getFixed:i}}(),he=function(){function t(e,t){p.left.css({height:o(t)}),p.right.css({height:o(t)})}function n(){return r(le.getFixed())}function r(e){p.top.css({left:o(e.x),width:o(e.w),height:o(e.y)}),p.bottom.css({top:o(e.y2),left:o(e.x),width:o(e.w),height:o(X-e.y2)}),p.right.css({left:o(e.x2),width:o(L-e.x2)}),p.left.css({width:o(e.x)})}function i(){return e("<div />").css({position:"absolute",backgroundColor:J.shadeColor||J.bgColor}).appendTo(f)}function a(){h||(h=!0,f.insertBefore(q),n(),fe.setBgOpacity(1,0,1),N.hide(),s(J.shadeColor||J.bgColor,1),fe.isAwake()?u(J.bgOpacity,1):u(1,1))}function s(e,t){I(l(),e,t)}function c(){h&&(f.remove(),N.show(),h=!1,fe.isAwake()?fe.setBgOpacity(J.bgOpacity,1,1):(fe.setBgOpacity(1,1,1),fe.disableHandles()),I(G,0,1))}function u(e,t){h&&(J.bgFade&&!t?f.animate({opacity:1-e},{queue:!1,duration:J.fadeTime}):f.css({opacity:1-e}))}function d(){J.shade?a():c(),fe.isAwake()&&u(J.bgOpacity)}function l(){return f.children()}var h=!1,f=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),p={top:i(),left:i().height(X),right:i().height(X),bottom:i()};return{update:n,updateRaw:r,getShades:l,setBgColor:s,enable:a,disable:c,resize:t,refresh:d,opacity:u}}(),fe=function(){function t(t){var n=e("<div />").css({position:"absolute",opacity:J.borderOpacity}).addClass(r(t));return V.append(n),n}function n(t,n){var o=e("<div />").mousedown(f(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);return de.support&&o.bind("touchstart.jcrop",de.createDragger(t)),Q.append(o),o}function i(e){var t=J.handleSize,o=n(e,O++).css({opacity:J.handleOpacity}).addClass(r("handle"));return t&&o.width(t).height(t),o}function a(e){return n(e,O++).addClass("jcrop-dragbar")}function s(e){var t;for(t=0;t<e.length;t++)H[e[t]]=a(e[t])}function c(e){var n,o;for(o=0;o<e.length;o++){switch(e[o]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}j[e[o]]=t(n)}}function u(e){var t;for(t=0;t<e.length;t++)F[e[t]]=i(e[t])}function d(e,t){J.shade||N.css({top:o(-t),left:o(-e)}),U.css({top:o(t),left:o(e)})}function l(e,t){U.width(Math.round(e)).height(Math.round(t))}function h(){var e=le.getFixed();le.setPressed([e.x,e.y]),le.setCurrent([e.x2,e.y2]),p()}function p(e){return M?b(e):void 0}function b(e){var t=le.getFixed();l(t.w,t.h),d(t.x,t.y),J.shade&&he.updateRaw(t),M||v(),e?J.onSelect.call(be,g(t)):J.onChange.call(be,g(t))}function w(e,t,n){(M||t)&&(J.bgFade&&!n?q.animate({opacity:e},{queue:!1,duration:J.fadeTime}):q.css("opacity",e))}function v(){U.show(),J.shade?he.opacity(ue):w(ue,!0),M=!0}function m(){S(),U.hide(),J.shade?he.opacity(1):w(1),M=!1,J.onRelease.call(be)}function x(){D&&Q.show()}function C(){return D=!0,J.allowResize?(Q.show(),!0):void 0}function S(){D=!1,Q.hide()}function k(e){e?(re=!0,S()):(re=!1,C())}function z(){k(!1),h()}var M,O=370,j={},F={},H={},D=!1;J.dragEdges&&e.isArray(J.createDragbars)&&s(J.createDragbars),e.isArray(J.createHandles)&&u(J.createHandles),J.drawBorders&&e.isArray(J.createBorders)&&c(J.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var I=y().mousedown(f("move")).css({cursor:"move",position:"absolute",zIndex:360});return de.support&&I.bind("touchstart.jcrop",de.createDragger("move")),V.append(I),S(),{updateVisible:p,update:b,release:m,refresh:h,isAwake:function(){return M},setCursor:function(e){I.css("cursor",e)},enableHandles:C,enableOnly:function(){D=!0},showHandles:x,disableHandles:S,animMode:k,setBgOpacity:w,done:z}}(),pe=function(){function t(t){se.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",a).bind("touchend.jcrop",c):h&&e(document).bind("mousemove.jcrop",o).bind("mouseup.jcrop",r)}function n(){se.css({zIndex:290}),e(document).unbind(".jcrop")}function o(e){return d(s(e)),!1}function r(e){return e.preventDefault(),e.stopPropagation(),oe&&(oe=!1,l(s(e)),fe.isAwake()&&J.onSelect.call(be,g(le.getFixed())),n(),d=function(){},l=function(){}),!1}function i(e,n,o){return oe=!0,d=e,l=n,t(o),!1}function a(e){return d(s(de.cfilter(e))),!1}function c(e){return r(de.cfilter(e))}function u(e){se.css("cursor",e)}var d=function(){},l=function(){},h=J.trackDocument;return h||se.mousemove(o).mouseup(r).mouseout(r),q.before(se),{activateHandlers:i,setCursor:u}}(),ge=function(){function t(){J.keySupport&&(i.show(),i.focus())}function n(e){i.hide()}function o(e,t,n){J.allowMove&&(le.moveOffset([t,n]),fe.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function r(e){if(e.ctrlKey||e.metaKey)return!0;ie=e.shiftKey?!0:!1;var t=ie?10:1;switch(e.keyCode){case 37:o(e,-t,0);break;case 39:o(e,t,0);break;case 38:o(e,0,-t);break;case 40:o(e,0,t);break;case 27:J.allowSelect&&fe.release();break;case 9:return!0}return!1}var i=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),a=e("<div />").css({position:"absolute",overflow:"hidden"}).append(i);return J.keySupport&&(i.keydown(r).blur(n),T||!J.fixedSupport?(i.css({position:"absolute",left:"-20px"}),a.append(i).insertBefore(q)):i.insertBefore(q)),{watchKeys:t}}();de.support&&se.bind("touchstart.jcrop",de.newSelection),Q.hide(),B(!0);var be={setImage:D,animateTo:x,setSelect:C,setOptions:M,tellSelect:k,tellScaled:z,setClass:m,disable:O,enable:j,cancel:F,release:fe.release,destroy:H,focus:ge.watchKeys,getBounds:function(){return[L*te,X*ne]},getWidgetSize:function(){return[L,X]},getScaleFactor:function(){return[te,ne]},getOptions:function(){return J},ui:{holder:G,selection:U}};return R&&G.bind("selectstart",function(){return!1}),E.data("Jcrop",be),be},e.fn.Jcrop=function(t,n){var o;return this.each(function(){if(e(this).data("Jcrop")){if("api"===t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),o=e.Jcrop(this,t),e.isFunction(n)&&n.call(o)}):(e(this).css({display:"block",visibility:"hidden"}),o=e.Jcrop(this,t),e.isFunction(n)&&n.call(o))}),this},e.Jcrop.Loader=function(t,n,o){function r(){a.complete?(i.unbind(".jcloader"),e.isFunction(n)&&n.call(a)):window.setTimeout(r,50)}var i=e(t),a=i[0];i.bind("load.jcloader",r).bind("error.jcloader",function(t){i.unbind(".jcloader"),e.isFunction(o)&&o.call(a)}),a.complete&&e.isFunction(n)&&(i.unbind(".jcloader"),n.call(a))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery);
// resgistration
$("#forget").click(function(){$(".signin").hide();$("#forgot").show()});$("#register").validate({rules:{username:{required:true,remote:{url:base_url+"public/user/user_checkmodal",type:"POST",data:{u_name:function(){return $("#usermsg").val()}}}},email:{required:true,email:true,remote:{url:base_url+"public/user/email_checkmodal",type:"POST",data:{email_id:function(){return $("#emailmsg").val()}}}},password:{required:true,minlength:6}},messages:{username:{required:"Please enter Username",remote:jQuery.validator.format("{0} is already taken.")},email:{required:"Please enter Username",email:"Enter Valid Email",remote:jQuery.validator.format("{0} is already taken.")},password:{required:"Please provide a password",minlength:"Your password must be at least 6 characters long"}}});$("#register1").validate({rules:{username:{required:true,remote:{url:base_url+"public/user/user_checkmodal",type:"POST",data:{u_name:function(){return $("#usermsg1").val()}}}},email:{required:true,email:true,remote:{url:base_url+"public/user/email_checkmodal",type:"POST",data:{email_id:function(){return $("#emailmsg1").val()}}}},password:{required:true,minlength:6}},messages:{username:{required:"Please enter Username",remote:jQuery.validator.format("{0} is already taken.")},email:{required:"Please enter Username",email:"Enter Valid Email",remote:jQuery.validator.format("{0} is already taken.")},password:{required:"Please provide a password",minlength:"Your password must be at least 6 characters long"}}});$("#passconf").change(function(){var b=$(this).val();var a=$("#password").val();if(a!=b){$("#passconf1").html("Please enter the same password as above")}else{$("#passconf1").html("")}});$("#exampleInputPassword2").change(function(){var b=$(this).val();var a=$("#exampleInputPassword").val();if(a!=b){$("#passconf11").html("Please enter the same password as above")}else{$("#passconf11").html("")}});$("#user_llogin").validate({rules:{username:{required:true},password:{required:true}},messages:{username:{required:"Please enter Username"},password:{required:"Please enter Password"}}});$("#forgot_password").validate({rules:{email:{required:true,}},messages:{email:{required:"Please enter your Email Address"}},submitHandler:function(b){$("#for_error22").hide();$("#change_pass").hide();var a=$("#forgot_email").val();$.ajax({type:"POST",url:base_url+"user/forgot_password",data:"email="+a,success:function(c){if(c=="false"){$("#for_error22").show()}else{if(c=="error"){$("#email_error").show()}else{$("#change_pass").show()}}}})}});$("#fb_login_form").validate({rules:{username:{required:true,minlength:4}},messages:{username:{required:"Please enter new username",minlength:"The Username field must be at least 4 characters in length"}},submitHandler:function(b){var a=$("#username_login_fb").val();$.ajax({type:"POST",url:base_url+"public/user/user_checkk",data:{u_name:a},cache:false,dataType:"html",success:function(c){if(!$.trim(c)){$.ajax({type:"POST",url:base_url+"public/loginfacebook/save_session_username",data:{u_name:a},cache:false,success:function(d){window.location.href=base_url}})}else{$("#username_login_fb_error").html(c)}}})}});
// reset_password
$(document).ready(function(){$("#change").validate({rules:{new_password:{required:!0,minlength:5},cpswd:{required:!0,equalTo:"#new_password"}},messages:{new_password:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long"},cpswd:{required:"Please provide a password",minlength:"Your password must be at least 5 characters long",equalTo:"Please enter the same password as above"}}})});
// moment
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return Hc.apply(null,arguments)}function b(a){Hc=a}function c(a){return"[object Array]"===Object.prototype.toString.call(a)}function d(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function e(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function f(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function g(a,b){for(var c in b)f(b,c)&&(a[c]=b[c]);return f(b,"toString")&&(a.toString=b.toString),f(b,"valueOf")&&(a.valueOf=b.valueOf),a}function h(a,b,c,d){return Ca(a,b,c,d,!0).utc()}function i(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function j(a){return null==a._pf&&(a._pf=i()),a._pf}function k(a){if(null==a._isValid){var b=j(a);a._isValid=!(isNaN(a._d.getTime())||!(b.overflow<0)||b.empty||b.invalidMonth||b.invalidWeekday||b.nullInput||b.invalidFormat||b.userInvalidated),a._strict&&(a._isValid=a._isValid&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour)}return a._isValid}function l(a){var b=h(NaN);return null!=a?g(j(b),a):j(b).userInvalidated=!0,b}function m(a,b){var c,d,e;if("undefined"!=typeof b._isAMomentObject&&(a._isAMomentObject=b._isAMomentObject),"undefined"!=typeof b._i&&(a._i=b._i),"undefined"!=typeof b._f&&(a._f=b._f),"undefined"!=typeof b._l&&(a._l=b._l),"undefined"!=typeof b._strict&&(a._strict=b._strict),"undefined"!=typeof b._tzm&&(a._tzm=b._tzm),"undefined"!=typeof b._isUTC&&(a._isUTC=b._isUTC),"undefined"!=typeof b._offset&&(a._offset=b._offset),"undefined"!=typeof b._pf&&(a._pf=j(b)),"undefined"!=typeof b._locale&&(a._locale=b._locale),Jc.length>0)for(c in Jc)d=Jc[c],e=b[d],"undefined"!=typeof e&&(a[d]=e);return a}function n(b){m(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),Kc===!1&&(Kc=!0,a.updateOffset(this),Kc=!1)}function o(a){return a instanceof n||null!=a&&null!=a._isAMomentObject}function p(a){return 0>a?Math.ceil(a):Math.floor(a)}function q(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=p(b)),c}function r(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&q(a[d])!==q(b[d]))&&g++;return g+f}function s(){}function t(a){return a?a.toLowerCase().replace("_","-"):a}function u(a){for(var b,c,d,e,f=0;f<a.length;){for(e=t(a[f]).split("-"),b=e.length,c=t(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=v(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&r(e,c,!0)>=b-1)break;b--}f++}return null}function v(a){var b=null;if(!Lc[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Ic._abbr,require("./locale/"+a),w(b)}catch(c){}return Lc[a]}function w(a,b){var c;return a&&(c="undefined"==typeof b?y(a):x(a,b),c&&(Ic=c)),Ic._abbr}function x(a,b){return null!==b?(b.abbr=a,Lc[a]=Lc[a]||new s,Lc[a].set(b),w(a),Lc[a]):(delete Lc[a],null)}function y(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Ic;if(!c(a)){if(b=v(a))return b;a=[a]}return u(a)}function z(a,b){var c=a.toLowerCase();Mc[c]=Mc[c+"s"]=Mc[b]=a}function A(a){return"string"==typeof a?Mc[a]||Mc[a.toLowerCase()]:void 0}function B(a){var b,c,d={};for(c in a)f(a,c)&&(b=A(c),b&&(d[b]=a[c]));return d}function C(b,c){return function(d){return null!=d?(E(this,b,d),a.updateOffset(this,c),this):D(this,b)}}function D(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function E(a,b,c){return a._d["set"+(a._isUTC?"UTC":"")+b](c)}function F(a,b){var c;if("object"==typeof a)for(c in a)this.set(c,a[c]);else if(a=A(a),"function"==typeof this[a])return this[a](b);return this}function G(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function H(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Qc[a]=e),b&&(Qc[b[0]]=function(){return G(e.apply(this,arguments),b[1],b[2])}),c&&(Qc[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function I(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function J(a){var b,c,d=a.match(Nc);for(b=0,c=d.length;c>b;b++)Qc[d[b]]?d[b]=Qc[d[b]]:d[b]=I(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function K(a,b){return a.isValid()?(b=L(b,a.localeData()),Pc[b]=Pc[b]||J(b),Pc[b](a)):a.localeData().invalidDate()}function L(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Oc.lastIndex=0;d>=0&&Oc.test(a);)a=a.replace(Oc,c),Oc.lastIndex=0,d-=1;return a}function M(a){return"function"==typeof a&&"[object Function]"===Object.prototype.toString.call(a)}function N(a,b,c){dd[a]=M(b)?b:function(a){return a&&c?c:b}}function O(a,b){return f(dd,a)?dd[a](b._strict,b._locale):new RegExp(P(a))}function P(a){return a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Q(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),"number"==typeof b&&(d=function(a,c){c[b]=q(a)}),c=0;c<a.length;c++)ed[a[c]]=d}function R(a,b){Q(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function S(a,b,c){null!=b&&f(ed,a)&&ed[a](b,c._a,c,a)}function T(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function U(a){return this._months[a.month()]}function V(a){return this._monthsShort[a.month()]}function W(a,b,c){var d,e,f;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;12>d;d++){if(e=h([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function X(a,b){var c;return"string"==typeof b&&(b=a.localeData().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),T(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function Y(b){return null!=b?(X(this,b),a.updateOffset(this,!0),this):D(this,"Month")}function Z(){return T(this.year(),this.month())}function $(a){var b,c=a._a;return c&&-2===j(a).overflow&&(b=c[gd]<0||c[gd]>11?gd:c[hd]<1||c[hd]>T(c[fd],c[gd])?hd:c[id]<0||c[id]>24||24===c[id]&&(0!==c[jd]||0!==c[kd]||0!==c[ld])?id:c[jd]<0||c[jd]>59?jd:c[kd]<0||c[kd]>59?kd:c[ld]<0||c[ld]>999?ld:-1,j(a)._overflowDayOfYear&&(fd>b||b>hd)&&(b=hd),j(a).overflow=b),a}function _(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function aa(a,b){var c=!0;return g(function(){return c&&(_(a+"\n"+(new Error).stack),c=!1),b.apply(this,arguments)},b)}function ba(a,b){od[a]||(_(b),od[a]=!0)}function ca(a){var b,c,d=a._i,e=pd.exec(d);if(e){for(j(a).iso=!0,b=0,c=qd.length;c>b;b++)if(qd[b][1].exec(d)){a._f=qd[b][0];break}for(b=0,c=rd.length;c>b;b++)if(rd[b][1].exec(d)){a._f+=(e[6]||" ")+rd[b][0];break}d.match(ad)&&(a._f+="Z"),va(a)}else a._isValid=!1}function da(b){var c=sd.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(ca(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function ea(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function fa(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function ga(a){return ha(a)?366:365}function ha(a){return a%4===0&&a%100!==0||a%400===0}function ia(){return ha(this.year())}function ja(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=Da(a).add(f,"d"),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function ka(a){return ja(a,this._week.dow,this._week.doy).week}function la(){return this._week.dow}function ma(){return this._week.doy}function na(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function oa(a){var b=ja(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function pa(a,b,c,d,e){var f,g=6+e-d,h=fa(a,0,1+g),i=h.getUTCDay();return e>i&&(i+=7),c=null!=c?1*c:e,f=1+g+7*(b-1)-i+c,{year:f>0?a:a-1,dayOfYear:f>0?f:ga(a-1)+f}}function qa(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function ra(a,b,c){return null!=a?a:null!=b?b:c}function sa(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function ta(a){var b,c,d,e,f=[];if(!a._d){for(d=sa(a),a._w&&null==a._a[hd]&&null==a._a[gd]&&ua(a),a._dayOfYear&&(e=ra(a._a[fd],d[fd]),a._dayOfYear>ga(e)&&(j(a)._overflowDayOfYear=!0),c=fa(e,0,a._dayOfYear),a._a[gd]=c.getUTCMonth(),a._a[hd]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;7>b;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[id]&&0===a._a[jd]&&0===a._a[kd]&&0===a._a[ld]&&(a._nextDay=!0,a._a[id]=0),a._d=(a._useUTC?fa:ea).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[id]=24)}}function ua(a){var b,c,d,e,f,g,h;b=a._w,null!=b.GG||null!=b.W||null!=b.E?(f=1,g=4,c=ra(b.GG,a._a[fd],ja(Da(),1,4).year),d=ra(b.W,1),e=ra(b.E,1)):(f=a._locale._week.dow,g=a._locale._week.doy,c=ra(b.gg,a._a[fd],ja(Da(),f,g).year),d=ra(b.w,1),null!=b.d?(e=b.d,f>e&&++d):e=null!=b.e?b.e+f:f),h=pa(c,d,e,g,f),a._a[fd]=h.year,a._dayOfYear=h.dayOfYear}function va(b){if(b._f===a.ISO_8601)return void ca(b);b._a=[],j(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,k=0;for(e=L(b._f,b._locale).match(Nc)||[],c=0;c<e.length;c++)f=e[c],d=(h.match(O(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&j(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),k+=d.length),Qc[f]?(d?j(b).empty=!1:j(b).unusedTokens.push(f),S(f,d,b)):b._strict&&!d&&j(b).unusedTokens.push(f);j(b).charsLeftOver=i-k,h.length>0&&j(b).unusedInput.push(h),j(b).bigHour===!0&&b._a[id]<=12&&b._a[id]>0&&(j(b).bigHour=void 0),b._a[id]=wa(b._locale,b._a[id],b._meridiem),ta(b),$(b)}function wa(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&12>b&&(b+=12),d||12!==b||(b=0),b):b}function xa(a){var b,c,d,e,f;if(0===a._f.length)return j(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=m({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],va(b),k(b)&&(f+=j(b).charsLeftOver,f+=10*j(b).unusedTokens.length,j(b).score=f,(null==d||d>f)&&(d=f,c=b));g(a,c||b)}function ya(a){if(!a._d){var b=B(a._i);a._a=[b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],ta(a)}}function za(a){var b=new n($(Aa(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function Aa(a){var b=a._i,e=a._f;return a._locale=a._locale||y(a._l),null===b||void 0===e&&""===b?l({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),o(b)?new n($(b)):(c(e)?xa(a):e?va(a):d(b)?a._d=b:Ba(a),a))}function Ba(b){var f=b._i;void 0===f?b._d=new Date:d(f)?b._d=new Date(+f):"string"==typeof f?da(b):c(f)?(b._a=e(f.slice(0),function(a){return parseInt(a,10)}),ta(b)):"object"==typeof f?ya(b):"number"==typeof f?b._d=new Date(f):a.createFromInputFallback(b)}function Ca(a,b,c,d,e){var f={};return"boolean"==typeof c&&(d=c,c=void 0),f._isAMomentObject=!0,f._useUTC=f._isUTC=e,f._l=c,f._i=a,f._f=b,f._strict=d,za(f)}function Da(a,b,c,d){return Ca(a,b,c,d,!1)}function Ea(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return Da();for(d=b[0],e=1;e<b.length;++e)(!b[e].isValid()||b[e][a](d))&&(d=b[e]);return d}function Fa(){var a=[].slice.call(arguments,0);return Ea("isBefore",a)}function Ga(){var a=[].slice.call(arguments,0);return Ea("isAfter",a)}function Ha(a){var b=B(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=y(),this._bubble()}function Ia(a){return a instanceof Ha}function Ja(a,b){H(a,0,0,function(){var a=this.utcOffset(),c="+";return 0>a&&(a=-a,c="-"),c+G(~~(a/60),2)+b+G(~~a%60,2)})}function Ka(a){var b=(a||"").match(ad)||[],c=b[b.length-1]||[],d=(c+"").match(xd)||["-",0,0],e=+(60*d[1])+q(d[2]);return"+"===d[0]?e:-e}function La(b,c){var e,f;return c._isUTC?(e=c.clone(),f=(o(b)||d(b)?+b:+Da(b))-+e,e._d.setTime(+e._d+f),a.updateOffset(e,!1),e):Da(b).local()}function Ma(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Na(b,c){var d,e=this._offset||0;return null!=b?("string"==typeof b&&(b=Ka(b)),Math.abs(b)<16&&(b=60*b),!this._isUTC&&c&&(d=Ma(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?bb(this,Ya(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?e:Ma(this)}function Oa(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Pa(a){return this.utcOffset(0,a)}function Qa(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Ma(this),"m")),this}function Ra(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ka(this._i)),this}function Sa(a){return a=a?Da(a).utcOffset():0,(this.utcOffset()-a)%60===0}function Ta(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ua(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var a={};if(m(a,this),a=Aa(a),a._a){var b=a._isUTC?h(a._a):Da(a._a);this._isDSTShifted=this.isValid()&&r(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Va(){return!this._isUTC}function Wa(){return this._isUTC}function Xa(){return this._isUTC&&0===this._offset}function Ya(a,b){var c,d,e,g=a,h=null;return Ia(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(g={},b?g[b]=a:g.milliseconds=a):(h=yd.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:q(h[hd])*c,h:q(h[id])*c,m:q(h[jd])*c,s:q(h[kd])*c,ms:q(h[ld])*c}):(h=zd.exec(a))?(c="-"===h[1]?-1:1,g={y:Za(h[2],c),M:Za(h[3],c),d:Za(h[4],c),h:Za(h[5],c),m:Za(h[6],c),s:Za(h[7],c),w:Za(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=_a(Da(g.from),Da(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new Ha(g),Ia(a)&&f(a,"_locale")&&(d._locale=a._locale),d}function Za(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function $a(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function _a(a,b){var c;return b=La(b,a),a.isBefore(b)?c=$a(a,b):(c=$a(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c}function ab(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(ba(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period)."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ya(c,d),bb(this,e,a),this}}function bb(b,c,d,e){var f=c._milliseconds,g=c._days,h=c._months;e=null==e?!0:e,f&&b._d.setTime(+b._d+f*d),g&&E(b,"Date",D(b,"Date")+g*d),h&&X(b,D(b,"Month")+h*d),e&&a.updateOffset(b,g||h)}function cb(a,b){var c=a||Da(),d=La(c,this).startOf("day"),e=this.diff(d,"days",!0),f=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(b&&b[f]||this.localeData().calendar(f,this,Da(c)))}function db(){return new n(this)}function eb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this>+a):(c=o(a)?+a:+Da(a),c<+this.clone().startOf(b))}function fb(a,b){var c;return b=A("undefined"!=typeof b?b:"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+a>+this):(c=o(a)?+a:+Da(a),+this.clone().endOf(b)<c)}function gb(a,b,c){return this.isAfter(a,c)&&this.isBefore(b,c)}function hb(a,b){var c;return b=A(b||"millisecond"),"millisecond"===b?(a=o(a)?a:Da(a),+this===+a):(c=+Da(a),+this.clone().startOf(b)<=c&&c<=+this.clone().endOf(b))}function ib(a,b,c){var d,e,f=La(a,this),g=6e4*(f.utcOffset()-this.utcOffset());return b=A(b),"year"===b||"month"===b||"quarter"===b?(e=jb(this,f),"quarter"===b?e/=3:"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:p(e)}function jb(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return 0>b-f?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)}function kb(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function lb(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():K(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function mb(b){var c=K(this,b||a.defaultFormat);return this.localeData().postformat(c)}function nb(a,b){return this.isValid()?Ya({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ob(a){return this.from(Da(),a)}function pb(a,b){return this.isValid()?Ya({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function qb(a){return this.to(Da(),a)}function rb(a){var b;return void 0===a?this._locale._abbr:(b=y(a),null!=b&&(this._locale=b),this)}function sb(){return this._locale}function tb(a){switch(a=A(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function ub(a){return a=A(a),void 0===a||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")}function vb(){return+this._d-6e4*(this._offset||0)}function wb(){return Math.floor(+this/1e3)}function xb(){return this._offset?new Date(+this):this._d}function yb(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function zb(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function Ab(){return k(this)}function Bb(){return g({},j(this))}function Cb(){return j(this).overflow}function Db(a,b){H(0,[a,a.length],0,b)}function Eb(a,b,c){return ja(Da([a,11,31+b-c]),b,c).week}function Fb(a){var b=ja(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?b:this.add(a-b,"y")}function Gb(a){var b=ja(this,1,4).year;return null==a?b:this.add(a-b,"y")}function Hb(){return Eb(this.year(),1,4)}function Ib(){var a=this.localeData()._week;return Eb(this.year(),a.dow,a.doy)}function Jb(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Kb(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Lb(a){return this._weekdays[a.day()]}function Mb(a){return this._weekdaysShort[a.day()]}function Nb(a){return this._weekdaysMin[a.day()]}function Ob(a){var b,c,d;for(this._weekdaysParse=this._weekdaysParse||[],b=0;7>b;b++)if(this._weekdaysParse[b]||(c=Da([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b}function Pb(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Kb(a,this.localeData()),this.add(a-b,"d")):b}function Qb(a){var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Rb(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)}function Sb(a,b){H(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Tb(a,b){return b._meridiemParse}function Ub(a){return"p"===(a+"").toLowerCase().charAt(0)}function Vb(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Wb(a,b){b[ld]=q(1e3*("0."+a))}function Xb(){return this._isUTC?"UTC":""}function Yb(){return this._isUTC?"Coordinated Universal Time":""}function Zb(a){return Da(1e3*a)}function $b(){return Da.apply(null,arguments).parseZone()}function _b(a,b,c){var d=this._calendar[a];return"function"==typeof d?d.call(b,c):d}function ac(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function bc(){return this._invalidDate}function cc(a){return this._ordinal.replace("%d",a)}function dc(a){return a}function ec(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)}function fc(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)}function gc(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function hc(a,b,c,d){var e=y(),f=h().set(d,b);return e[c](f,a)}function ic(a,b,c,d,e){if("number"==typeof a&&(b=a,a=void 0),a=a||"",null!=b)return hc(a,b,c,e);var f,g=[];for(f=0;d>f;f++)g[f]=hc(a,f,c,e);return g}function jc(a,b){return ic(a,b,"months",12,"month")}function kc(a,b){return ic(a,b,"monthsShort",12,"month")}function lc(a,b){return ic(a,b,"weekdays",7,"day")}function mc(a,b){return ic(a,b,"weekdaysShort",7,"day")}function nc(a,b){return ic(a,b,"weekdaysMin",7,"day")}function oc(){var a=this._data;return this._milliseconds=Wd(this._milliseconds),this._days=Wd(this._days),this._months=Wd(this._months),a.milliseconds=Wd(a.milliseconds),a.seconds=Wd(a.seconds),a.minutes=Wd(a.minutes),a.hours=Wd(a.hours),a.months=Wd(a.months),a.years=Wd(a.years),this}function pc(a,b,c,d){var e=Ya(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function qc(a,b){return pc(this,a,b,1)}function rc(a,b){return pc(this,a,b,-1)}function sc(a){return 0>a?Math.floor(a):Math.ceil(a)}function tc(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||0>=f&&0>=g&&0>=h||(f+=864e5*sc(vc(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=p(f/1e3),i.seconds=a%60,b=p(a/60),i.minutes=b%60,c=p(b/60),i.hours=c%24,g+=p(c/24),e=p(uc(g)),h+=e,g-=sc(vc(e)),d=p(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function uc(a){return 4800*a/146097}function vc(a){return 146097*a/4800}function wc(a){var b,c,d=this._milliseconds;if(a=A(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+uc(b),"month"===a?c:c/12;switch(b=this._days+Math.round(vc(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function xc(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*q(this._months/12)}function yc(a){return function(){return this.as(a)}}function zc(a){return a=A(a),this[a+"s"]()}function Ac(a){return function(){return this._data[a]}}function Bc(){return p(this.days()/7)}function Cc(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Dc(a,b,c){var d=Ya(a).abs(),e=ke(d.as("s")),f=ke(d.as("m")),g=ke(d.as("h")),h=ke(d.as("d")),i=ke(d.as("M")),j=ke(d.as("y")),k=e<le.s&&["s",e]||1===f&&["m"]||f<le.m&&["mm",f]||1===g&&["h"]||g<le.h&&["hh",g]||1===h&&["d"]||h<le.d&&["dd",h]||1===i&&["M"]||i<le.M&&["MM",i]||1===j&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,Cc.apply(null,k)}function Ec(a,b){return void 0===le[a]?!1:void 0===b?le[a]:(le[a]=b,!0)}function Fc(a){var b=this.localeData(),c=Dc(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function Gc(){var a,b,c,d=me(this._milliseconds)/1e3,e=me(this._days),f=me(this._months);a=p(d/60),b=p(a/60),d%=60,a%=60,c=p(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(0>m?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var Hc,Ic,Jc=a.momentProperties=[],Kc=!1,Lc={},Mc={},Nc=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Oc=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pc={},Qc={},Rc=/\d/,Sc=/\d\d/,Tc=/\d{3}/,Uc=/\d{4}/,Vc=/[+-]?\d{6}/,Wc=/\d\d?/,Xc=/\d{1,3}/,Yc=/\d{1,4}/,Zc=/[+-]?\d{1,6}/,$c=/\d+/,_c=/[+-]?\d+/,ad=/Z|[+-]\d\d:?\d\d/gi,bd=/[+-]?\d+(\.\d{1,3})?/,cd=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,dd={},ed={},fd=0,gd=1,hd=2,id=3,jd=4,kd=5,ld=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),H("MMMM",0,0,function(a){return this.localeData().months(this,a)}),z("month","M"),N("M",Wc),N("MM",Wc,Sc),N("MMM",cd),N("MMMM",cd),Q(["M","MM"],function(a,b){b[gd]=q(a)-1}),Q(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[gd]=e:j(c).invalidMonth=a});var md="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),nd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),od={};a.suppressDeprecationWarnings=!1;var pd=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,qd=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],rd=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],sd=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=aa("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),z("year","y"),N("Y",_c),N("YY",Wc,Sc),N("YYYY",Yc,Uc),N("YYYYY",Zc,Vc),N("YYYYYY",Zc,Vc),Q(["YYYYY","YYYYYY"],fd),Q("YYYY",function(b,c){c[fd]=2===b.length?a.parseTwoDigitYear(b):q(b)}),Q("YY",function(b,c){c[fd]=a.parseTwoDigitYear(b)}),a.parseTwoDigitYear=function(a){return q(a)+(q(a)>68?1900:2e3)};var td=C("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),z("week","w"),z("isoWeek","W"),N("w",Wc),N("ww",Wc,Sc),N("W",Wc),N("WW",Wc,Sc),R(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=q(a)});var ud={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),z("dayOfYear","DDD"),N("DDD",Xc),N("DDDD",Tc),Q(["DDD","DDDD"],function(a,b,c){c._dayOfYear=q(a)}),a.ISO_8601=function(){};var vd=aa("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return this>a?this:a}),wd=aa("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var a=Da.apply(null,arguments);return a>this?this:a});Ja("Z",":"),Ja("ZZ",""),N("Z",ad),N("ZZ",ad),Q(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ka(a)});var xd=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var yd=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,zd=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ya.fn=Ha.prototype;var Ad=ab(1,"add"),Bd=ab(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Cd=aa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Db("gggg","weekYear"),Db("ggggg","weekYear"),Db("GGGG","isoWeekYear"),Db("GGGGG","isoWeekYear"),z("weekYear","gg"),z("isoWeekYear","GG"),N("G",_c),N("g",_c),N("GG",Wc,Sc),N("gg",Wc,Sc),N("GGGG",Yc,Uc),N("gggg",Yc,Uc),N("GGGGG",Zc,Vc),N("ggggg",Zc,Vc),R(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=q(a)}),R(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),H("Q",0,0,"quarter"),z("quarter","Q"),N("Q",Rc),Q("Q",function(a,b){b[gd]=3*(q(a)-1)}),H("D",["DD",2],"Do","date"),z("date","D"),N("D",Wc),N("DD",Wc,Sc),N("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),Q(["D","DD"],hd),Q("Do",function(a,b){b[hd]=q(a.match(Wc)[0],10)});var Dd=C("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),H("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),H("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),z("day","d"),z("weekday","e"),z("isoWeekday","E"),N("d",Wc),N("e",Wc),N("E",Wc),N("dd",cd),N("ddd",cd),N("dddd",cd),R(["dd","ddd","dddd"],function(a,b,c){var d=c._locale.weekdaysParse(a);null!=d?b.d=d:j(c).invalidWeekday=a}),R(["d","e","E"],function(a,b,c,d){b[d]=q(a)});var Ed="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Fd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Gd="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Sb("a",!0),Sb("A",!1),z("hour","h"),N("a",Tb),N("A",Tb),N("H",Wc),N("h",Wc),N("HH",Wc,Sc),N("hh",Wc,Sc),Q(["H","HH"],id),Q(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),Q(["h","hh"],function(a,b,c){b[id]=q(a),j(c).bigHour=!0});var Hd=/[ap]\.?m?\.?/i,Id=C("Hours",!0);H("m",["mm",2],0,"minute"),z("minute","m"),N("m",Wc),N("mm",Wc,Sc),Q(["m","mm"],jd);var Jd=C("Minutes",!1);H("s",["ss",2],0,"second"),z("second","s"),N("s",Wc),N("ss",Wc,Sc),Q(["s","ss"],kd);var Kd=C("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),z("millisecond","ms"),N("S",Xc,Rc),N("SS",Xc,Sc),N("SSS",Xc,Tc);var Ld;for(Ld="SSSS";Ld.length<=9;Ld+="S")N(Ld,$c);for(Ld="S";Ld.length<=9;Ld+="S")Q(Ld,Wb);var Md=C("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Nd=n.prototype;Nd.add=Ad,Nd.calendar=cb,Nd.clone=db,Nd.diff=ib,Nd.endOf=ub,Nd.format=mb,Nd.from=nb,Nd.fromNow=ob,Nd.to=pb,Nd.toNow=qb,Nd.get=F,Nd.invalidAt=Cb,Nd.isAfter=eb,Nd.isBefore=fb,Nd.isBetween=gb,Nd.isSame=hb,Nd.isValid=Ab,Nd.lang=Cd,Nd.locale=rb,Nd.localeData=sb,Nd.max=wd,Nd.min=vd,Nd.parsingFlags=Bb,Nd.set=F,Nd.startOf=tb,Nd.subtract=Bd,Nd.toArray=yb,Nd.toObject=zb,Nd.toDate=xb,Nd.toISOString=lb,Nd.toJSON=lb,Nd.toString=kb,Nd.unix=wb,Nd.valueOf=vb,Nd.year=td,Nd.isLeapYear=ia,Nd.weekYear=Fb,Nd.isoWeekYear=Gb,Nd.quarter=Nd.quarters=Jb,Nd.month=Y,Nd.daysInMonth=Z,Nd.week=Nd.weeks=na,Nd.isoWeek=Nd.isoWeeks=oa,Nd.weeksInYear=Ib,Nd.isoWeeksInYear=Hb,Nd.date=Dd,Nd.day=Nd.days=Pb,Nd.weekday=Qb,Nd.isoWeekday=Rb,Nd.dayOfYear=qa,Nd.hour=Nd.hours=Id,Nd.minute=Nd.minutes=Jd,Nd.second=Nd.seconds=Kd,
Nd.millisecond=Nd.milliseconds=Md,Nd.utcOffset=Na,Nd.utc=Pa,Nd.local=Qa,Nd.parseZone=Ra,Nd.hasAlignedHourOffset=Sa,Nd.isDST=Ta,Nd.isDSTShifted=Ua,Nd.isLocal=Va,Nd.isUtcOffset=Wa,Nd.isUtc=Xa,Nd.isUTC=Xa,Nd.zoneAbbr=Xb,Nd.zoneName=Yb,Nd.dates=aa("dates accessor is deprecated. Use date instead.",Dd),Nd.months=aa("months accessor is deprecated. Use month instead",Y),Nd.years=aa("years accessor is deprecated. Use year instead",td),Nd.zone=aa("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Oa);var Od=Nd,Pd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Qd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Rd="Invalid date",Sd="%d",Td=/\d{1,2}/,Ud={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vd=s.prototype;Vd._calendar=Pd,Vd.calendar=_b,Vd._longDateFormat=Qd,Vd.longDateFormat=ac,Vd._invalidDate=Rd,Vd.invalidDate=bc,Vd._ordinal=Sd,Vd.ordinal=cc,Vd._ordinalParse=Td,Vd.preparse=dc,Vd.postformat=dc,Vd._relativeTime=Ud,Vd.relativeTime=ec,Vd.pastFuture=fc,Vd.set=gc,Vd.months=U,Vd._months=md,Vd.monthsShort=V,Vd._monthsShort=nd,Vd.monthsParse=W,Vd.week=ka,Vd._week=ud,Vd.firstDayOfYear=ma,Vd.firstDayOfWeek=la,Vd.weekdays=Lb,Vd._weekdays=Ed,Vd.weekdaysMin=Nb,Vd._weekdaysMin=Gd,Vd.weekdaysShort=Mb,Vd._weekdaysShort=Fd,Vd.weekdaysParse=Ob,Vd.isPM=Ub,Vd._meridiemParse=Hd,Vd.meridiem=Vb,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===q(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=aa("moment.lang is deprecated. Use moment.locale instead.",w),a.langData=aa("moment.langData is deprecated. Use moment.localeData instead.",y);var Wd=Math.abs,Xd=yc("ms"),Yd=yc("s"),Zd=yc("m"),$d=yc("h"),_d=yc("d"),ae=yc("w"),be=yc("M"),ce=yc("y"),de=Ac("milliseconds"),ee=Ac("seconds"),fe=Ac("minutes"),ge=Ac("hours"),he=Ac("days"),ie=Ac("months"),je=Ac("years"),ke=Math.round,le={s:45,m:45,h:22,d:26,M:11},me=Math.abs,ne=Ha.prototype;ne.abs=oc,ne.add=qc,ne.subtract=rc,ne.as=wc,ne.asMilliseconds=Xd,ne.asSeconds=Yd,ne.asMinutes=Zd,ne.asHours=$d,ne.asDays=_d,ne.asWeeks=ae,ne.asMonths=be,ne.asYears=ce,ne.valueOf=xc,ne._bubble=tc,ne.get=zc,ne.milliseconds=de,ne.seconds=ee,ne.minutes=fe,ne.hours=ge,ne.days=he,ne.weeks=Bc,ne.months=ie,ne.years=je,ne.humanize=Fc,ne.toISOString=Gc,ne.toString=Gc,ne.toJSON=Gc,ne.locale=rb,ne.localeData=sb,ne.toIsoString=aa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gc),ne.lang=Cd,H("X",0,0,"unix"),H("x",0,0,"valueOf"),N("x",_c),N("X",bd),Q("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),Q("x",function(a,b,c){c._d=new Date(q(a))}),a.version="2.10.6",b(Da),a.fn=Od,a.min=Fa,a.max=Ga,a.utc=h,a.unix=Zb,a.months=jc,a.isDate=d,a.locale=w,a.invalid=l,a.duration=Ya,a.isMoment=o,a.weekdays=lc,a.parseZone=$b,a.localeData=y,a.isDuration=Ia,a.monthsShort=kc,a.weekdaysMin=nc,a.defineLocale=x,a.weekdaysShort=mc,a.normalizeUnits=A,a.relativeTimeThreshold=Ec;var oe=a;return oe});
// livestamp
!function(t,a){var e=1e3,i=!1,n=t([]),o=function(e,i){var o=e.data("livestampdata");"number"==typeof i&&(i*=1e3),e.removeAttr("data-livestamp").removeData("livestamp"),i=a(i),a.isMoment(i)&&!isNaN(+i)&&(o=t.extend({},{original:e.contents()},o),o.moment=a(i),e.data("livestampdata",o).empty(),n.push(e[0]))},m=function(){i||(r.update(),setTimeout(m,e))},r={update:function(){t("[data-livestamp]").each(function(){var a=t(this);o(a,a.data("livestamp"))});var e=[];n.each(function(){var i=t(this),n=i.data("livestampdata");if(void 0===n)e.push(this);else if(a.isMoment(n.moment)){var o=i.html(),n=n.moment.fromNow();if(o!=n){var m=t.Event("change.livestamp");i.trigger(m,[o,n]),m.isDefaultPrevented()||i.html(n)}}}),n=n.not(e)},pause:function(){i=!0},resume:function(){i=!1,m()},interval:function(t){return void 0===t?e:void(e=t)}},s={add:function(e,i){return"number"==typeof i&&(i*=1e3),i=a(i),a.isMoment(i)&&!isNaN(+i)&&(e.each(function(){o(t(this),i)}),r.update()),e},destroy:function(a){return n=n.not(a),a.each(function(){var e=t(this),i=e.data("livestampdata");return void 0===i?a:void e.html(i.original?i.original:"").removeData("livestampdata")}),a},isLivestamp:function(t){return void 0!==t.data("livestampdata")}};t.livestamp=r,t(function(){r.resume()}),t.fn.livestamp=function(t,a){return s[t]||(a=t,t="add"),s[t](this,a)}}(jQuery,moment);
// imageSelect
(function(c){var b='<img class="{class_name}" src="{url}" />';var a=c.fn.chosen;c.fn.extend({chosen:function(e){e=e||{};var f=e.html_template||b;this.each(function(g){$this=c(this);$this.on("chosen:ready",function h(q,o){o=o.chosen;var s=o.form_field;var v=s.options;var r=c(o.container).find(".chosen-choices span");if(v&&v.length){for(var m=0;m<v.length;m++){var n=v[m];var l=c(n).attr("selected");var p=c(n).attr("data-img-src");var u=c(n).text();if(l&&p){var t=f.replace("{url}",p);if(r.length){for(var k=0;k<r.length;k++){if(u==c(r[k]).text()){c(r[k]).prepend(t.replace("{class_name}","chose-image"))}}}else{c(o.container).find(".chosen-single span").prepend(t.replace("{class_name}","chose-image-small"))}}}}})});var d=a.apply(this,arguments);this.each(function(h){var i,g;i=c(this);g=i.data("chosen");i.on("change",function k(l,r){var n=g.form_field.options;if(r!=undefined&&r.selected!=undefined&&n&&n.length){for(var o=0;o<n.length;o++){var q=n[o];var s=(c(q).attr("value"))?c(q).attr("value"):c(q).text();var m=c(q).attr("data-img-src");if(m!=undefined&&r.selected==s){var p=f.replace("{url}",m);span=c(g.container).find(".chosen-choices span").last();span.find("img").remove();span.prepend(p.replace("{class_name}","chose-image"));span=c(g.container).find(".chosen-single span");span.find("img").remove();span.prepend(p.replace("{class_name}","chose-image-small"))}}}});i.on("chosen:hiding_dropdown",function(q,l){var n=g.form_field.options;var p=c(g.form_field).find(":selected");if(!p){return}var m=p.attr("data-img-src");if(!m){return}var o=f.replace("{url}",m);span=c(g.container).find(".chosen-choices span").last();span.find("img").remove();span.prepend(o.replace("{class_name}","chose-image"));span=c(g.container).find(".chosen-single span");span.find("img").remove();span.prepend(o.replace("{class_name}","chose-image-small"))});i.on("chosen:showing_dropdown",function j(p,r){var s=c(g.container).find(".chosen-drop ul li:not(:has(img))");var t=g.form_field.options;for(var l=0;l<s.length;l++){var q=s[l];var m=t[l];var n=c(m).attr("data-img-src");if(n!=undefined){var o=f.replace("{url}",n);c(q).prepend(o.replace("{class_name}","chose-image-list"))}}})});return d}})})(jQuery);
// trigger
function checkLoginOrNot(e){var i;$.ajax({type:"POST",url:base_url+"public/user/checkUserLoginOrNot",dataType:"html",success:function(t){i=t,e(i)}})}function changeImage(e,i){window.test=e,src=$(e).attr("src"),$(e).parents(".troll").find("img").first().attr("src","assets/img/up-triangle.png"),$(e).parents(".troll").find("img").last().attr("src","assets/img/down-triangle.png"),src=="assets/img/"+i+"-triangle.png"?$(e).attr("src",base_url+"assets/public/img/"+i+"-triangle-hover.png"):$(e).attr("src",base_url+"assets/public/img/"+i+"-triangle.png")}function reviewSearch(){$.ajax({type:"POST",url:base_url+"public/user/review_search_all",data:{reviewSearchData:$("#reviewSearch").val()},cache:!1,success:function(e){var i="",t=JSON.parse(e);jQuery.isEmptyObject(t)?i+='<li class="errorNoresult">There is no result found, please try to find another way</li>':$.each(t,function(e,t){i+='<li class="ui-state-default ui-sortable-handle" data-id="'+t.id+'" data-anime="'+t.anime_id+'"><div class="review-anime-panel">'+2*t.overall_rate+'</div><div class="wrap-text-panel"><div class="title-edit-panel">'+t.anime_name+'</div><a href="javascript:void(0)" class="delete-panelReview"><i class="fa fa-times-circle"></i></a></div></li>'}),$("#sortable-right").empty(),$("#sortable-right").append(i)}})}function animSearch(){$.ajax({type:"POST",url:base_url+"public/user/anime_search_all",data:{animeSearchData:$("#animeSearch").val()},cache:!1,success:function(e){var i="",t=JSON.parse(e);jQuery.isEmptyObject(t)?i+='<li class="errorNoresult">There is no result found, please try to find another way</li>':$.each(t,function(e,t){var a="",n="";""!=$("#animeSearch").val()&&("A"==t.favourite?(n="A",a+='<input type="checkbox"  name="checkbox[]" class="commonCheckanim oldCheck" checked>'):(n="UF",a+='<input type="checkbox" name="checkbox[]" class="commonCheckanim newCheck">')),i+='<li class="ui-state-default" data-type="'+n+'" data-aid="'+t.anime_id+'"><div class="img-anime-panel"><img src="'+base_url+"uploads/anime/"+t.anime_jpg+'"  height="50px" width="50px"></div><div class="wrap-text-panel" ><div class="title-edit-panel">'+t.anime_name+'</div><a href="javascript:void(0)" class="delete-panel"><i class="fa fa-times-circle"></i></a></div>'+a+"</li>"}),$("#sortable").empty(),$("#sortable").append(i)}})}$(".onePieceThread").on("click",function(){checkLoginOrNot(function(e){"offline"!=e&&($(".onePieceThread").hide(),$("#discussion,#news-outer,#gameChat,#event,#moment").removeClass("active"),$("#inline_upload").show(),$("#moment").addClass("active"),$("#outer-moment").hide(),$("#inline_image_upload").hide(),$("#inline_album_upload").hide(),$(".onePieceBack").show(),$("#moment").find(".banner_first").show())}),$(".sidebar").removeClass("affix")}),$(".onePieceBack").on("click",function(){$(this).hide(),$(".onePieceThread").show(),$("#discussion,#news-outer,#gameChat,#event,#moment").removeClass("active"),$("#moment").addClass("active"),$("#moment").find(".banner_first").hide(),$("#outer-moment").show(),$("#inline_upload").hide(),$("#inline_image_upload").hide(),$("#inline_album_upload").hide(),$(".sidebar").removeClass("affix")}),$(".discussionThread").on("click",function(){checkLoginOrNot(function(e){"offline"!=e&&($(".discussionThread").hide(),$("#index1,#news-outer,#gameChat,#event,#moment").removeClass("active"),$("#upload-discussion-tab").show(),$("#outer-discussion").hide(),$("#inline-discuss-upload").hide(),$(".discussionBack").show(),$("#discussion").find(".banner_first").show())}),$(".sidebar").removeClass("affix")}),$(".discussionBack").on("click",function(){$(this).hide(),$(".discussionThread").show(),$("#index1,#news-outer,#gameChat,#event,#moment").removeClass("active"),$("#discussion").addClass("active"),$("#discussion").find(".banner_first").hide(),$("#outer-discussion").show(),$("#upload-discussion-tab").hide(),$("#inline-discuss-upload").hide(),$(".sidebar").removeClass("affix")}),$(".pollThread").on("click",function(){checkLoginOrNot(function(e){"offline"!=e&&($(".pollThread").hide(),$("#index1,#news-outer,#gameChat,#event,#moment","#poll").removeClass("active"),$("#poll").addClass("active"),$("#outer-poll").hide(),$("#poll-upload").show(),$("#inline-poll-upload").hide(),$(".pollBack").show(),$("#poll").find(".banner_first").show())}),$(".sidebar").removeClass("affix")}),$(".pollBack").on("click",function(){$(this).hide(),$(".pollThread").show(),$("#index1,#news-outer,#gameChat,#event,#moment,#poll").removeClass("active"),$("#poll").addClass("active"),$("#outer-poll").show(),$("#poll-upload").hide(),$("#inline-poll-upload").hide(),$("#poll").find(".banner_first").hide(),$(".sidebar").removeClass("affix")}),$(".gamechatThread").on("click",function(){checkLoginOrNot(function(e){"offline"!=e&&($(".gamechatThread").hide(),$("#index1,#news-outer,#gameChat,#event,#moment","#poll").removeClass("active"),$("#gameChat").addClass("active"),$("#gamedialogue-upload").show(),$("#outer-gameChat").hide(),$(".gamechatBack").show(),$("#gameChat").find(".banner_first").show(),$("#inline_gamechat_alert").hide())}),$(".sidebar").removeClass("affix")}),$(".gamechatBack").on("click",function(){$(this).hide(),$(".gamechatThread").show(),$("#index1,#news-outer,#gameChat,#event,#moment,#poll").removeClass("active"),$("#gameChat").addClass("active"),$("#gamedialogue-upload").hide(),$("#outer-gameChat").show(),$(".sidebar").removeClass("affix"),$("#gameChat").find(".banner_first").hide()}),$("#more").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td");i.toggle("slow")}),$("#more1").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td1");i.toggle("slow")}),$("#more2").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td2");i.toggle("slow")}),$("#more3").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td3");i.toggle("slow")}),$("#more4").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td4");i.toggle("slow")}),$("#more5").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td5");i.toggle("slow")}),$("#more6").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td6");i.toggle("slow")}),$("#more7").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td7");i.toggle("slow")}),$("#more8").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td8");i.toggle("slow")}),$("#more9").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td9");i.toggle("slow")}),$("#more10").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td10");i.toggle("slow")}),$("#more11").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td11");i.toggle("slow")}),$("#more12").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td12");i.toggle("slow")}),$("#more13").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td13");i.toggle("slow")}),$("#more14").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td14");i.toggle("slow")}),$("#more15").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td15");i.toggle("slow")}),$("#more16").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td16");i.toggle("slow")}),$("#more17").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td17");i.toggle("slow")}),$("#more18").on("click",function(e){e.preventDefault();var i=$(this).prevAll(".td18");i.toggle("slow")}),$(document).ready(function(){$("#noti_Counter").css({opacity:0}).text($("#noti_hide_count").val()).css({top:"-10px"}).animate({top:"-2px",opacity:1},500),$("#noti_Button").click(function(){return $("#notifications").fadeToggle("fast","linear",function(){$("#notifications").is(":hidden")&&$("#noti_Button").css("color","#E4AC38")}),$.ajax({type:"POST",url:base_url+"public/user/noti_modal",beforeSend:function(){$("#loader_noti").show()},success:function(e){$("#loader_noti").show(),$("#notifications").html(e)}}),$("#noti_Counter").fadeOut("slow"),!1}),$(document).click(function(){$("#notifications").hide(),$("#noti_Counter").is(":hidden")})}),$(document).ready(function(){$("#noti_Counter_res").css({opacity:0}).text($("#noti_hide_count").val()).css({top:"-10px"}).animate({top:"-2px",opacity:1},500),$("#noti_Button_res").click(function(){return $("#notifications_res").fadeToggle("fast","linear",function(){$("#notifications_res").is(":hidden")&&$("#noti_Button_res").css("color","#E4AC38")}),$.ajax({type:"POST",url:base_url+"public/user/noti_modal",beforeSend:function(){$("#loader_noti_res").show()},success:function(e){$("#loader_noti_res").show(),$("#notifications_res").html(e)}}),$("#noti_Counter_res").fadeOut("slow"),!1}),$(document).click(function(){$("#notifications_res").hide(),$("#noti_Counter_res").is(":hidden")})}),$(".delete-panelReview").click(function(){var e=confirm("Are you sure want to remove Review from your anime review list");if(!e)return!1;var i={reviewId:$(this).parents("li.ui-sortable-handle").attr("data-id"),anime_id:$(this).parents("li.ui-sortable-handle").attr("data-anime")};$.ajax({type:"POST",url:base_url+"public/user/review_search_delete",data:{deleteReviewData:i},cache:!1,success:function(e){console.log(e)}}),reviewSearch()}),$("#reviewSearch").keyup(function(){reviewSearch()}),$(".delete-panel").click(function(){var e=confirm("Are you sure want to remove anime item from your Favourite list");if(!e)return!1;var i={anime_fav_id:$(this).parents("li.ui-sortable-handle").attr("data-anime_fav_id")};$.ajax({type:"POST",url:base_url+"public/user/anime_search_delete",data:{unfaverioutData:i},cache:!1,success:function(e){console.log(e)}}),animSearch()}),$("#animeSearch").keyup(function(){animSearch()}),$(".commentSavebtn").click(function(){var e=[];$("#sortable li").each(function(i){var t=i+1,a="",n="";console.log($(this)),$(this).find(".commonCheckanim")&&(a=$(this).find(".commonCheckanim").hasClass("oldCheck")?"update":"insert",n=$(this).find(".commonCheckanim").is(":checked")?"A":"UF",e[i]={aid:$(this).attr("data-aid"),order:t,query:a,favourites:n})}),$.ajax({type:"POST",url:base_url+"public/user/random_order_anim_update",data:{checkUnCheck:e},cache:!1,success:function(e){console.log(e)}})}),$("#change_profpict").on("click",function(){$(".overlay-edit").slideToggle("slow"),$(".trigger-edit-cover").slideToggle("slow")}),$(".trigger-edit-cover").on("click",function(){$("#crop-cover").modal("show")}),$(".overlay-edit").on("click",function(){$("#edit-profile-picture").modal("show")}),$(".textarea-box").focus(function(){$(this).addClass("resize"),$(this).next().addClass("display-post-comment"),$(this).next().next().addClass("value-box-click")}),$(document).click(function(e){0==$(e.target).closest(".input-text-comment").length&&($(".textarea-box").removeClass("resize"),$(".textarea-box").next().removeClass("display-post-comment"),$(".textarea-box").next().next().removeClass("value-box-click"))}),$(".disable-comment").on("click",function(){$(this).parent().find(".display-comment").show(),$(this).hide(),$(this).parents().find(".user-comment.mar-t-20").find(".info-avatar").hide(),$(this).parents().find(".user-comment.mar-t-20").find(".wrap-comment-field").hide(),$(this).parents().find(".user-comment.mar-t-20").find(".noactive-comment").show()}),$(".display-comment").on("click",function(){$(this).parent().find(".disable-comment").show(),$(this).hide(),$(this).parents().find(".user-comment.mar-t-20").find(".info-avatar").show(),$(this).parents().find(".user-comment.mar-t-20").find(".wrap-comment-field").show(),$(this).parents().find(".user-comment.mar-t-20").find(".noactive-comment").hide()}),$("#manage-fav").on("click",function(){$(this).hide(),$(".fav-anime-modal").show()}),$("#close-manage").on("click",function(){$("#manage-fav").show(),$(".fav-anime-modal").hide()});
// leanmodal
!function(e){e.fn.extend({leanModal:function(n){function o(n){e("#lean_overlay").fadeOut(200),e(n).css({display:"none"})}var t={top:100,overlay:.5,closeButton:null},a=e("<div id='lean_overlay'></div>");return e("body").append(a),n=e.extend(t,n),this.each(function(){var t=n;e(this).click(function(n){var a=e(this).attr("href");e("#lean_overlay").click(function(){o(a)}),e(t.closeButton).click(function(){o(a)});var l=(e(a).outerHeight(),e(a).outerWidth());e("#lean_overlay").css({display:"block",opacity:0}),e("#lean_overlay").fadeTo(200,t.overlay),e(a).css({display:"block",position:"fixed",opacity:0,"z-index":11e3,left:"50%","margin-left":-(l/2)+"px",top:t.top+"px"}),e(a).fadeTo(200,1),n.preventDefault()})})}})}(jQuery);
// popup
$("#modal_trigger").leanModal({top:200,overlay:.6,closeButton:".modal_close"}),$(function(){$("#choose-link").click(function(){return $("#modal_upload").hide(),$(".link-upload").show(),!1}),$("#back-image").click(function(){$(".image-upload").hide(),$("#modal_upload").show()}),$("#back-anime-image").click(function(){$(".anime-category-image").hide(),$(".upload-category-image").show()}),$("#back-discuss").click(function(){$(".discuss-upload").hide(),$("#modal_upload").show()}),$("#back-category-discuss").click(function(){$(".upload-category-discuss").hide(),$(".discuss-upload").show()}),$("#back-anime-discuss").click(function(){$(".anime-category-discuss").hide(),$(".upload-category-discuss").show()}),$("#back-link").click(function(){$(".link-upload").hide(),$("#modal_upload").show()}),$("#back-anime-link").click(function(){$(".anime-category-link").hide(),$(".upload-category-link").show()}),$("#back-category-link").click(function(){$(".upload-category-link").hide(),$(".url_title_upload").show()}),$("#back-album").click(function(){$(".album-upload").hide(),$("#modal_upload").show()}),$("#back-category-album").click(function(){$("#album_category").hide(),$(".upload-category-album").hide(),$(".album-upload").show()}),$("#back-anime-album").click(function(){$(".anime-category-album").hide(),$(".upload-category-album").show()}),$("#back-gamechat").click(function(){$(".gamechat-upload").hide(),$("#modal_upload").show()}),$("#back-rating").click(function(){$(".rating-upload").hide(),$("#modal_upload").show()}),$("#back-category-rating").click(function(){$(".upload-category-rating").hide(),$(".rating-upload").show()}),$("#back-anime-rating").click(function(){$(".anime-category-rating").hide(),$(".upload-category-rating").show()}),$("#btn-save").click(function(){return $(".image-upload").hide(),$("#modal_upload").hide(),$(".upload-category1").hide(),$(".upload-category2").hide(),$(".upload-category3").hide(),$(".upload-category4").hide(),$(".upload-category5").hide(),$(".anime-category").hide(),$(".discuss-upload").hide(),!1})}),$(document).ready(function(){$('input[class="only_credit"]').click(function(){"credit"==$(this).attr("value")&&$(".credit").toggle()})});
// profile
function showCommentForm(e){e.parents("div#comment_left").find(".show-anime").slideToggle("slow"),e.parents("div#comment_left").find(".edit-anime").slideToggle("slow"),e.parents("div#comment_right").find(".show-anime-review").slideToggle("slow"),e.parents("div#comment_right").find(".edit-anime-review").slideToggle("slow")}function bioupdate(){var e=($(".title-note").val(),tinymce.activeEditor.getContent());$.ajax({type:"POST",url:base_url+"public/user/update_biodata",data:{description:e},success:function(e){window.location.reload()}})}function editProfile(){$("#edit_profile").css("color","#17ae97"),$("#setting_profile").css("color","#cdcece"),$.ajax({type:"POST",url:base_url+"public/user/edit_profile_page",cache:!1,success:function(e){$("#profile_content").html(e)}})}function settingProfile(){$("#setting_profile").css("color","#17ae97"),$("#edit_profile").css("color","#cdcece"),$.ajax({type:"POST",url:base_url+"public/user/setting_profile_page",cache:!1,success:function(e){$("#profile_content").html(e)}})}function aboutProfile(){$("#about_profile").css("color","#17ae97");var e=$("#about_id").val();$.ajax({type:"POST",url:base_url+"public/user/about_profile_page",data:{id:e},cache:!1,success:function(e){$("#edit-profile").html(e)}})}$(document).ready(function(){$("#edit-profile").length>0&&$.ajax({type:"POST",url:base_url+"public/user/edit_profile_page",cache:!1,success:function(e){$("#edit-profile").html(e)}}),$(".my-select").chosen(),$("#btn-edit-summoner").on("click",function(e){$("#edit-summoner-container").show(),$("#show-summoner-info").hide(),$(this).hide(),$("#btn-save-summoner").show(),e.preventDefault()}),$("#btn-save-summoner").bind("click",function(e){$("#btn-save-summoner").hide(),$("#edit-summoner-container").hide(),$("#show-summoner-info").show(),$("#btn-edit-summoner").show(),$formData=$("form[name=summoner-form]").serialize(),url=$("form[name=summoner-form]").attr("action"),$.ajax({type:"POST",url:url,data:$formData,cache:!1,dataType:"JSON",success:function(e){window.location.reload()}})}),$('input[name="fav_champ[]"]').click(function(){$all="",$('input[name="fav_champ[]"]').each(function(){$(this).is(":checked")&&($all+=$(this).val()+", ")}),$("#dropdown-menu1").text($all)}),$('input[name="fav_role[]"]').click(function(){$all="",$('input[name="fav_role[]"]').each(function(){$(this).is(":checked")&&($all+=$(this).val()+", ")}),$("#dropdown-menu2").text($all)})});
// pnotify
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(d){var b={dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25,context:d("body")};var f,a,e=d(window);var c=function(){a=d("body");PNotify.prototype.options.stack.context=a;e=d(window);e.bind("resize",function(){if(f){clearTimeout(f)}f=setTimeout(function(){PNotify.positionAll(true)},10)})};PNotify=function(g){this.parseOptions(g);this.init()};d.extend(PNotify.prototype,{version:"2.0.0",options:{title:false,title_escape:false,text:false,text_escape:false,styling:"bootstrap3",addclass:"",cornerclass:"",auto_display:true,width:"300px",min_height:"16px",type:"notice",icon:true,opacity:1,animation:"fade",animate_speed:"slow",position_animate_speed:500,shadow:true,hide:true,delay:8000,mouse_reset:true,remove:true,insert_brs:true,destroy:true,stack:b},modules:{},runModules:function(j,g){var i;for(var h in this.modules){i=((typeof g==="object"&&h in g)?g[h]:g);if(typeof this.modules[h][j]==="function"){this.modules[h][j](this,typeof this.options[h]==="object"?this.options[h]:{},i)}}},state:"initializing",timer:null,styles:null,elem:null,container:null,title_container:null,text_container:null,animating:false,timerHide:false,init:function(){var g=this;this.modules={};d.extend(true,this.modules,PNotify.prototype.modules);if(typeof this.options.styling==="object"){this.styles=this.options.styling}else{this.styles=PNotify.styling[this.options.styling]}this.elem=d("<div />",{"class":"ui-pnotify "+this.options.addclass,css:{display:"none"},mouseenter:function(h){if(g.options.mouse_reset&&g.animating==="out"){if(!g.timerHide){return}g.elem.stop(true);g.state="open";g.animating="in";g.elem.css("height","auto").animate({width:g.options.width,opacity:g.options.opacity},"fast")}if(g.options.hide&&g.options.mouse_reset){g.cancelRemove()}},mouseleave:function(h){if(g.options.hide&&g.options.mouse_reset){g.queueRemove()}PNotify.positionAll()}});this.container=d("<div />",{"class":this.styles.container+" ui-pnotify-container "+(this.options.type==="error"?this.styles.error:(this.options.type==="info"?this.styles.info:(this.options.type==="success"?this.styles.success:this.styles.notice)))}).appendTo(this.elem);if(this.options.cornerclass!==""){this.container.removeClass("ui-corner-all").addClass(this.options.cornerclass)}if(this.options.shadow){this.container.addClass("ui-pnotify-shadow")}if(this.options.icon!==false){d("<div />",{"class":"ui-pnotify-icon"}).append(d("<span />",{"class":this.options.icon===true?(this.options.type==="error"?this.styles.error_icon:(this.options.type==="info"?this.styles.info_icon:(this.options.type==="success"?this.styles.success_icon:this.styles.notice_icon))):this.options.icon})).prependTo(this.container)}this.title_container=d("<h4 />",{"class":"ui-pnotify-title"}).appendTo(this.container);if(this.options.title===false){this.title_container.hide()}else{if(this.options.title_escape){this.title_container.text(this.options.title)}else{this.title_container.html(this.options.title)}}this.text_container=d("<div />",{"class":"ui-pnotify-text"}).appendTo(this.container);if(this.options.text===false){this.text_container.hide()}else{if(this.options.text_escape){this.text_container.text(this.options.text)}else{this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text)}}if(typeof this.options.width==="string"){this.elem.css("width",this.options.width)}if(typeof this.options.min_height==="string"){this.container.css("min-height",this.options.min_height)}if(this.options.stack.push==="top"){PNotify.notices=d.merge([this],PNotify.notices)}else{PNotify.notices=d.merge(PNotify.notices,[this])}if(this.options.stack.push==="top"){this.queuePosition(false,1)}this.options.stack.animation=false;this.runModules("init");if(this.options.auto_display){this.open()}return this},update:function(g){var h=this.options;this.parseOptions(h,g);if(this.options.cornerclass!==h.cornerclass){this.container.removeClass("ui-corner-all "+h.cornerclass).addClass(this.options.cornerclass)}if(this.options.shadow!==h.shadow){if(this.options.shadow){this.container.addClass("ui-pnotify-shadow")}else{this.container.removeClass("ui-pnotify-shadow")}}if(this.options.addclass===false){this.elem.removeClass(h.addclass)}else{if(this.options.addclass!==h.addclass){this.elem.removeClass(h.addclass).addClass(this.options.addclass)}}if(this.options.title===false){this.title_container.slideUp("fast")}else{if(this.options.title!==h.title){if(this.options.title_escape){this.title_container.text(this.options.title)}else{this.title_container.html(this.options.title)}if(h.title===false){this.title_container.slideDown(200)}}}if(this.options.text===false){this.text_container.slideUp("fast")}else{if(this.options.text!==h.text){if(this.options.text_escape){this.text_container.text(this.options.text)}else{this.text_container.html(this.options.insert_brs?String(this.options.text).replace(/\n/g,"<br />"):this.options.text)}if(h.text===false){this.text_container.slideDown(200)}}}if(this.options.type!==h.type){this.container.removeClass(this.styles.error+" "+this.styles.notice+" "+this.styles.success+" "+this.styles.info).addClass(this.options.type==="error"?this.styles.error:(this.options.type==="info"?this.styles.info:(this.options.type==="success"?this.styles.success:this.styles.notice)))}if(this.options.icon!==h.icon||(this.options.icon===true&&this.options.type!==h.type)){this.container.find("div.ui-pnotify-icon").remove();if(this.options.icon!==false){d("<div />",{"class":"ui-pnotify-icon"}).append(d("<span />",{"class":this.options.icon===true?(this.options.type==="error"?this.styles.error_icon:(this.options.type==="info"?this.styles.info_icon:(this.options.type==="success"?this.styles.success_icon:this.styles.notice_icon))):this.options.icon})).prependTo(this.container)}}if(this.options.width!==h.width){this.elem.animate({width:this.options.width})}if(this.options.min_height!==h.min_height){this.container.animate({minHeight:this.options.min_height})}if(this.options.opacity!==h.opacity){this.elem.fadeTo(this.options.animate_speed,this.options.opacity)}if(!this.options.hide){this.cancelRemove()}else{if(!h.hide){this.queueRemove()}}this.queuePosition(true);this.runModules("update",h);return this},open:function(){this.state="opening";this.runModules("beforeOpen");var g=this;if(!this.elem.parent().length){this.elem.appendTo(this.options.stack.context?this.options.stack.context:a)}if(this.options.stack.push!=="top"){this.position(true)}if(this.options.animation==="fade"||this.options.animation.effect_in==="fade"){this.elem.show().fadeTo(0,0).hide()}else{if(this.options.opacity!==1){this.elem.show().fadeTo(0,this.options.opacity).hide()}}this.animateIn(function(){g.queuePosition(true);if(g.options.hide){g.queueRemove()}g.state="open";g.runModules("afterOpen")});return this},remove:function(g){this.state="closing";this.timerHide=!!g;this.runModules("beforeClose");var h=this;if(this.timer){window.clearTimeout(this.timer);this.timer=null}this.animateOut(function(){h.state="closed";h.runModules("afterClose");h.queuePosition(true);if(h.options.remove){h.elem.detach()}h.runModules("beforeDestroy");if(h.options.destroy){if(PNotify.notices!==null){var i=d.inArray(h,PNotify.notices);if(i!==-1){PNotify.notices.splice(i,1)}}}h.runModules("afterDestroy")});return this},get:function(){return this.elem},parseOptions:function(h,l){this.options=d.extend(true,{},PNotify.prototype.options);this.options.stack=PNotify.prototype.options.stack;var g=[h,l],k;for(var i in g){k=g[i];if(typeof k=="undefined"){break}if(typeof k!=="object"){this.options.text=k}else{for(var j in k){if(this.modules[j]){d.extend(true,this.options[j],k[j])}else{this.options[j]=k[j]}}}}},animateIn:function(h){this.animating="in";var g;if(typeof this.options.animation.effect_in!=="undefined"){g=this.options.animation.effect_in}else{g=this.options.animation}if(g==="none"){this.elem.show();h()}else{if(g==="show"){this.elem.show(this.options.animate_speed,h)}else{if(g==="fade"){this.elem.show().fadeTo(this.options.animate_speed,this.options.opacity,h)}else{if(g==="slide"){this.elem.slideDown(this.options.animate_speed,h)}else{if(typeof g==="function"){g("in",h,this.elem)}else{this.elem.show(g,(typeof this.options.animation.options_in==="object"?this.options.animation.options_in:{}),this.options.animate_speed,h)}}}}}},animateOut:function(h){this.animating="out";var g;if(typeof this.options.animation.effect_out!=="undefined"){g=this.options.animation.effect_out}else{g=this.options.animation}if(g==="none"){this.elem.hide();h()}else{if(g==="show"){this.elem.hide(this.options.animate_speed,h)}else{if(g==="fade"){this.elem.fadeOut(this.options.animate_speed,h)}else{if(g==="slide"){this.elem.slideUp(this.options.animate_speed,h)}else{if(typeof g==="function"){g("out",h,this.elem)}else{this.elem.hide(g,(typeof this.options.animation.options_out==="object"?this.options.animation.options_out:{}),this.options.animate_speed,h)}}}}}},position:function(g){var k=this.options.stack;if(typeof k.context==="undefined"){k.context=a}if(!k){return}if(typeof k.nextpos1!=="number"){k.nextpos1=k.firstpos1}if(typeof k.nextpos2!=="number"){k.nextpos2=k.firstpos2}if(typeof k.addpos2!=="number"){k.addpos2=0}var n=this.elem.css("display")==="none";if(!n||g){var m,l;var h={};var j;switch(k.dir1){case"down":j="top";break;case"up":j="bottom";break;case"left":j="right";break;case"right":j="left";break}m=parseInt(this.elem.css(j).replace(/(?:\..*|[^0-9.])/g,""));if(isNaN(m)){m=0}if(typeof k.firstpos1==="undefined"&&!n){k.firstpos1=m;k.nextpos1=k.firstpos1}var i;switch(k.dir2){case"down":i="top";break;case"up":i="bottom";break;case"left":i="right";break;case"right":i="left";break}l=parseInt(this.elem.css(i).replace(/(?:\..*|[^0-9.])/g,""));if(isNaN(l)){l=0}if(typeof k.firstpos2==="undefined"&&!n){k.firstpos2=l;k.nextpos2=k.firstpos2}if((k.dir1==="down"&&k.nextpos1+this.elem.height()>(k.context.is(a)?e.height():k.context.prop("scrollHeight")))||(k.dir1==="up"&&k.nextpos1+this.elem.height()>(k.context.is(a)?e.height():k.context.prop("scrollHeight")))||(k.dir1==="left"&&k.nextpos1+this.elem.width()>(k.context.is(a)?e.width():k.context.prop("scrollWidth")))||(k.dir1==="right"&&k.nextpos1+this.elem.width()>(k.context.is(a)?e.width():k.context.prop("scrollWidth")))){k.nextpos1=k.firstpos1;k.nextpos2+=k.addpos2+(typeof k.spacing2==="undefined"?25:k.spacing2);k.addpos2=0}if(k.animation&&k.nextpos2<l){switch(k.dir2){case"down":h.top=k.nextpos2+"px";break;case"up":h.bottom=k.nextpos2+"px";break;case"left":h.right=k.nextpos2+"px";break;case"right":h.left=k.nextpos2+"px";break}}else{if(typeof k.nextpos2==="number"){this.elem.css(i,k.nextpos2+"px")}}switch(k.dir2){case"down":case"up":if(this.elem.outerHeight(true)>k.addpos2){k.addpos2=this.elem.height()}break;case"left":case"right":if(this.elem.outerWidth(true)>k.addpos2){k.addpos2=this.elem.width()}break}if(typeof k.nextpos1==="number"){if(k.animation&&(m>k.nextpos1||h.top||h.bottom||h.right||h.left)){switch(k.dir1){case"down":h.top=k.nextpos1+"px";break;case"up":h.bottom=k.nextpos1+"px";break;case"left":h.right=k.nextpos1+"px";break;case"right":h.left=k.nextpos1+"px";break}}else{this.elem.css(j,k.nextpos1+"px")}}if(h.top||h.bottom||h.right||h.left){this.elem.animate(h,{duration:this.options.position_animate_speed,queue:false})}switch(k.dir1){case"down":case"up":k.nextpos1+=this.elem.height()+(typeof k.spacing1==="undefined"?25:k.spacing1);break;case"left":case"right":k.nextpos1+=this.elem.width()+(typeof k.spacing1==="undefined"?25:k.spacing1);break}}return this},queuePosition:function(g,h){if(f){clearTimeout(f)}if(!h){h=10}f=setTimeout(function(){PNotify.positionAll(g)},h);return this},cancelRemove:function(){if(this.timer){window.clearTimeout(this.timer)}return this},queueRemove:function(){var g=this;this.cancelRemove();this.timer=window.setTimeout(function(){g.remove(true)},(isNaN(this.options.delay)?0:this.options.delay));return this}});d.extend(PNotify,{notices:[],removeAll:function(){d.each(PNotify.notices,function(){if(this.remove){this.remove()}})},positionAll:function(g){if(f){clearTimeout(f)}f=null;d.each(PNotify.notices,function(){var h=this.options.stack;if(!h){return}h.nextpos1=h.firstpos1;h.nextpos2=h.firstpos2;h.addpos2=0;h.animation=g});d.each(PNotify.notices,function(){this.position()})},styling:{jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert"},bootstrap2:{container:"alert",notice:"",notice_icon:"icon-exclamation-sign",info:"alert-info",info_icon:"icon-info-sign",success:"alert-success",success_icon:"icon-ok-sign",error:"alert-error",error_icon:"icon-warning-sign"},bootstrap3:{container:"alert",notice:"alert-warning",notice_icon:"glyphicon glyphicon-exclamation-sign",info:"alert-info",info_icon:"glyphicon glyphicon-info-sign",success:"alert-success",success_icon:"glyphicon glyphicon-ok-sign",error:"alert-danger",error_icon:"glyphicon glyphicon-warning-sign"}}});PNotify.styling.fontawesome=d.extend({},PNotify.styling.bootstrap3);d.extend(PNotify.styling.fontawesome,{notice_icon:"fa fa-exclamation-circle",info_icon:"fa fa-info",success_icon:"fa fa-check",error_icon:"fa fa-warning"});if(document.body){c()}else{d(c)}}));(function(a){PNotify.prototype.options.buttons={closer:true,closer_hover:true,sticker:true,sticker_hover:true,labels:{close:"Close",stick:"Stick"}};PNotify.prototype.modules.buttons={myOptions:null,closer:null,sticker:null,init:function(d,b){var c=this;this.myOptions=b;d.elem.on({mouseenter:function(f){if(c.myOptions.sticker&&!(d.options.nonblock&&d.options.nonblock.nonblock)){c.sticker.trigger("pnotify_icon").css("visibility","visible")}if(c.myOptions.closer&&!(d.options.nonblock&&d.options.nonblock.nonblock)){c.closer.css("visibility","visible")}},mouseleave:function(f){if(c.myOptions.sticker_hover){c.sticker.css("visibility","hidden")}if(c.myOptions.closer_hover){c.closer.css("visibility","hidden")}}});this.sticker=a("<div />",{"class":"ui-pnotify-sticker",css:{cursor:"pointer",visibility:b.sticker_hover?"hidden":"visible"},click:function(){d.options.hide=!d.options.hide;if(d.options.hide){d.queueRemove()}else{d.cancelRemove()}a(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){a(this).children().removeClass(d.styles.pin_up+" "+d.styles.pin_down).addClass(d.options.hide?d.styles.pin_up:d.styles.pin_down)}).append(a("<span />",{"class":d.styles.pin_up,title:b.labels.stick})).prependTo(d.container);if(!b.sticker||(d.options.nonblock&&d.options.nonblock.nonblock)){this.sticker.css("display","none")}this.closer=a("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",visibility:b.closer_hover?"hidden":"visible"},click:function(){d.remove(false);c.sticker.css("visibility","hidden");c.closer.css("visibility","hidden")}}).append(a("<span />",{"class":d.styles.closer,title:b.labels.close})).prependTo(d.container);if(!b.closer||(d.options.nonblock&&d.options.nonblock.nonblock)){this.closer.css("display","none")}},update:function(c,b){this.myOptions=b;if(!b.closer||(c.options.nonblock&&c.options.nonblock.nonblock)){this.closer.css("display","none")}else{if(b.closer){this.closer.css("display","block")}}if(!b.sticker||(c.options.nonblock&&c.options.nonblock.nonblock)){this.sticker.css("display","none")}else{if(b.sticker){this.sticker.css("display","block")}}this.sticker.trigger("pnotify_icon");if(b.sticker_hover){this.sticker.css("visibility","hidden")}else{if(!(c.options.nonblock&&c.options.nonblock.nonblock)){this.sticker.css("visibility","visible")}}if(b.closer_hover){this.closer.css("visibility","hidden")}else{if(!(c.options.nonblock&&c.options.nonblock.nonblock)){this.closer.css("visibility","visible")}}}};a.extend(PNotify.styling.jqueryui,{closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s"});a.extend(PNotify.styling.bootstrap2,{closer:"icon-remove",pin_up:"icon-pause",pin_down:"icon-play"});a.extend(PNotify.styling.bootstrap3,{closer:"glyphicon glyphicon-remove",pin_up:"glyphicon glyphicon-pause",pin_down:"glyphicon glyphicon-play"});a.extend(PNotify.styling.fontawesome,{closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play"})})(jQuery);(function(d){var c=PNotify.prototype.init,a=PNotify.prototype.open,b=PNotify.prototype.remove;PNotify.prototype.init=function(){if(this.options.before_init){this.options.before_init(this.options)}c.apply(this,arguments);if(this.options.after_init){this.options.after_init(this)}};PNotify.prototype.open=function(){var e;if(this.options.before_open){e=this.options.before_open(this)}if(e!==false){a.apply(this,arguments);if(this.options.after_open){this.options.after_open(this)}}};PNotify.prototype.remove=function(f){var e;if(this.options.before_close){e=this.options.before_close(this,f)}if(e!==false){b.apply(this,arguments);if(this.options.after_close){this.options.after_close(this,f)}}}})(jQuery);(function(a){PNotify.prototype.options.confirm={confirm:false,align:"right",buttons:[{text:"Ok",addClass:"",click:function(b){b.get().trigger("pnotify.confirm");b.remove()}},{text:"Cancel",addClass:"",click:function(b){b.get().trigger("pnotify.cancel");b.remove()}}]};PNotify.prototype.modules.confirm={buttonContainer:null,init:function(c,b){this.buttonContainer=a('<div style="margin-top:5px;clear:both;text-align:'+b.align+';" />').appendTo(c.container);if(b.confirm){this.makeButtons(c,b)}else{this.buttonContainer.hide()}},update:function(c,b){if(b.confirm){this.makeButtons(c,b);this.buttonContainer.show()}else{this.buttonContainer.hide().empty()}},makeButtons:function(f,b){var g=false,d,e;this.buttonContainer.empty();for(var c in b.buttons){d=b.buttons[c];if(g){this.buttonContainer.append(" ")}else{g=true}e=a('<button type="button" class="'+f.styles.btn+" "+d.addClass+'">'+d.text+"</button>").appendTo(this.buttonContainer).on("click",(function(h){return function(){if(typeof h.click=="function"){h.click(f)}}})(d));if(f.styles.text){e.wrapInner('<span class="'+f.styles.text+'"></span>')}if(f.styles.btnhover){e.hover((function(h){return function(){h.addClass(f.styles.btnhover)}})(e),(function(h){return function(){h.removeClass(f.styles.btnhover)}})(e))}if(f.styles.btnactive){e.on("mousedown",(function(h){return function(){h.addClass(f.styles.btnactive)}})(e)).on("mouseup",(function(h){return function(){h.removeClass(f.styles.btnactive)}})(e))}if(f.styles.btnfocus){e.on("focus",(function(h){return function(){h.addClass(f.styles.btnfocus)}})(e)).on("blur",(function(h){return function(){h.removeClass(f.styles.btnfocus)}})(e))}}}};a.extend(PNotify.styling.jqueryui,{btn:"ui-button ui-widget ui-state-default ui-corner-all ui-button-text-only",btnhover:"ui-state-hover",btnactive:"ui-state-active",btnfocus:"ui-state-focus",text:"ui-button-text"});a.extend(PNotify.styling.bootstrap2,{btn:"btn"});a.extend(PNotify.styling.bootstrap3,{btn:"btn btn-default"});a.extend(PNotify.styling.fontawesome,{btn:"btn btn-default"})})(jQuery);(function(c){var a;var b=function(e,d){if("Notification" in window){b=function(g,f){return new Notification(g,f)}}else{if("mozNotification" in navigator){b=function(g,f){return navigator.mozNotification.createNotification(g,f.body,f.icon).show()}}else{if("webkitNotifications" in window){b=function(g,f){return window.webkitNotifications.createNotification(f.icon,g,f.body)}}else{b=function(g,f){return null}}}}return b(e,d)};PNotify.prototype.options.desktop={desktop:false,icon:null};PNotify.prototype.modules.desktop={init:function(e,d){if(!d.desktop){return}a=PNotify.desktop.checkPermission();if(a!=0){return}if(d.icon===null){d.icon="http://sciactive.com/pnotify/includes/desktop/"+e.options.type+".png"}else{if(d.icon===false){d.icon=null}}e.desktop=b(e.options.title,{icon:d.icon,body:e.options.text});if(!("close" in e.desktop)){e.desktop=function(){e.desktop.cancel()}}e.desktop.onclick=function(){e.elem.trigger("click")};e.desktop.onclose=function(){if(e.state!=="closing"&&e.state!=="closed"){e.remove()}}},update:function(e,d,f){if(a!=0||!d.desktop){return}},beforeOpen:function(e,d){if(a!=0||!d.desktop){return}e.elem.css({left:"-10000px",display:"none"})},afterOpen:function(e,d){if(a!=0||!d.desktop){return}e.elem.css({left:"-10000px",display:"none"});if("show" in e.desktop){e.desktop.show()}},beforeClose:function(e,d){if(a!=0||!d.desktop){return}e.elem.css({left:"-10000px",display:"none"})},afterClose:function(e,d){if(a!=0||!d.desktop){return}e.elem.css({left:"-10000px",display:"none"});e.desktop.close()}};PNotify.desktop={permission:function(){if(typeof Notification!=="undefined"&&"requestPermission" in Notification){Notification.requestPermission()}else{if("webkitNotifications" in window){window.webkitNotifications.requestPermission()}}},checkPermission:function(){if(typeof Notification!=="undefined"&&"permission" in Notification){return(Notification.permission=="granted"?0:1)}else{if("webkitNotifications" in window){return window.webkitNotifications.checkPermission()}else{return 1}}}};a=PNotify.desktop.checkPermission()})(jQuery);(function(c){var b,a;c(function(){c("body").on("pnotify.history-all",function(){c.each(PNotify.notices,function(){if(this.modules.history.inHistory){if(this.elem.is(":visible")){if(this.options.hide){this.queueRemove()}}else{if(this.open){this.open()}}}})}).on("pnotify.history-last",function(){var d=(PNotify.prototype.options.stack.push==="top");var e=(d?0:-1);var f;do{if(e===-1){f=PNotify.notices.slice(e)}else{f=PNotify.notices.slice(e,e+1)}if(!f[0]){return false}e=(d?e+1:e-1)}while(!f[0].modules.history.inHistory||f[0].elem.is(":visible"));if(f[0].open){f[0].open()}})});PNotify.prototype.options.history={history:true,menu:false,fixed:true,maxonscreen:Infinity,labels:{redisplay:"Redisplay",all:"All",last:"Last"}};PNotify.prototype.modules.history={inHistory:false,init:function(f,d){f.options.destroy=false;this.inHistory=d.history;if(d.menu){if(typeof b==="undefined"){b=c("<div />",{"class":"ui-pnotify-history-container "+f.styles.hi_menu,mouseleave:function(){b.animate({top:"-"+a+"px"},{duration:100,queue:false})}}).append(c("<div />",{"class":"ui-pnotify-history-header",text:d.labels.redisplay})).append(c("<button />",{"class":"ui-pnotify-history-all "+f.styles.hi_btn,text:d.labels.all,mouseenter:function(){c(this).addClass(f.styles.hi_btnhov)},mouseleave:function(){c(this).removeClass(f.styles.hi_btnhov)},click:function(){c(this).trigger("pnotify.history-all");return false}})).append(c("<button />",{"class":"ui-pnotify-history-last "+f.styles.hi_btn,text:d.labels.last,mouseenter:function(){c(this).addClass(f.styles.hi_btnhov)},mouseleave:function(){c(this).removeClass(f.styles.hi_btnhov)},click:function(){c(this).trigger("pnotify.history-last");return false}})).appendTo("body");var e=c("<span />",{"class":"ui-pnotify-history-pulldown "+f.styles.hi_hnd,mouseenter:function(){b.animate({top:"0"},{duration:100,queue:false})}}).appendTo(b);console.log(e.offset());a=e.offset().top+2;b.css({top:"-"+a+"px"});if(d.fixed){b.addClass("ui-pnotify-history-fixed")}}}},update:function(e,d){this.inHistory=d.history;if(d.fixed&&b){b.addClass("ui-pnotify-history-fixed")}else{if(b){b.removeClass("ui-pnotify-history-fixed")}}},beforeOpen:function(f,d){if(PNotify.notices&&(PNotify.notices.length>d.maxonscreen)){var e;if(f.options.stack.push!=="top"){e=PNotify.notices.slice(0,PNotify.notices.length-d.maxonscreen)}else{e=PNotify.notices.slice(d.maxonscreen,PNotify.notices.length)}c.each(e,function(){if(this.remove){this.remove()}})}}};c.extend(PNotify.styling.jqueryui,{hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"});c.extend(PNotify.styling.bootstrap2,{hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"icon-chevron-down"});c.extend(PNotify.styling.bootstrap3,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"glyphicon glyphicon-chevron-down"});c.extend(PNotify.styling.fontawesome,{hi_menu:"well",hi_btn:"btn btn-default",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"})})(jQuery);(function(f){var c=/^on/,g=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,d=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,h=/^(scroll|resize|(un)?load|abort|error)$/;var a=function(j,i){var k;j=j.toLowerCase();if(document.createEvent&&this.dispatchEvent){j=j.replace(c,"");if(j.match(g)){f(this).offset();k=document.createEvent("MouseEvents");k.initMouseEvent(j,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)}else{if(j.match(d)){k=document.createEvent("UIEvents");k.initUIEvent(j,i.bubbles,i.cancelable,i.view,i.detail)}else{if(j.match(h)){k=document.createEvent("HTMLEvents");k.initEvent(j,i.bubbles,i.cancelable)}}}if(!k){return}this.dispatchEvent(k)}else{if(!j.match(c)){j="on"+j}k=document.createEventObject(i);this.fireEvent(j,k)}};var e;var b=function(m,n,j){m.elem.css("display","none");var i=document.elementFromPoint(n.clientX,n.clientY);m.elem.css("display","block");var l=f(i);var k=l.css("cursor");m.elem.css("cursor",k!=="auto"?k:"default");if(!e||e.get(0)!=i){if(e){a.call(e.get(0),"mouseleave",n.originalEvent);a.call(e.get(0),"mouseout",n.originalEvent)}a.call(i,"mouseenter",n.originalEvent);a.call(i,"mouseover",n.originalEvent)}a.call(i,j,n.originalEvent);e=l};PNotify.prototype.options.nonblock={nonblock:false,nonblock_opacity:0.2};PNotify.prototype.modules.nonblock={myOptions:null,init:function(k,i){var j=this;this.myOptions=i;k.elem.on({mouseenter:function(l){if(j.myOptions.nonblock){l.stopPropagation()}if(j.myOptions.nonblock){k.elem.stop().animate({opacity:j.myOptions.nonblock_opacity},"fast")}},mouseleave:function(l){if(j.myOptions.nonblock){l.stopPropagation()}e=null;k.elem.css("cursor","auto");if(j.myOptions.nonblock&&k.animating!=="out"){k.elem.stop().animate({opacity:k.options.opacity},"fast")}},mouseover:function(l){if(j.myOptions.nonblock){l.stopPropagation()}},mouseout:function(l){if(j.myOptions.nonblock){l.stopPropagation()}},mousemove:function(l){if(j.myOptions.nonblock){l.stopPropagation();b(k,l,"onmousemove")}},mousedown:function(l){if(j.myOptions.nonblock){l.stopPropagation();l.preventDefault();b(k,l,"onmousedown")}},mouseup:function(l){if(j.myOptions.nonblock){l.stopPropagation();l.preventDefault();b(k,l,"onmouseup")}},click:function(l){if(j.myOptions.nonblock){l.stopPropagation();b(k,l,"onclick")}},dblclick:function(l){if(j.myOptions.nonblock){l.stopPropagation();b(k,l,"ondblclick")}}})},update:function(j,i){this.myOptions=i}}})(jQuery);(function(a){PNotify.prototype.options.reference={putThing:false,labels:{text:"Spin Around"}};PNotify.prototype.modules.reference={thingElem:null,init:function(d,b){var c=this;if(!b.putThing){return}this.thingElem=a('<button style="float:right;" class="btn btn-default" type="button" disabled><i class="'+d.styles.athing+'" /> '+b.labels.text+"</button>").appendTo(d.container);d.container.append('<div style="clear: right; line-height: 0;" />');d.elem.on({mouseenter:function(f){c.thingElem.prop("disabled",false)},mouseleave:function(f){c.thingElem.prop("disabled",true)}});this.thingElem.on("click",function(){var e=0;var f=setInterval(function(){e+=10;if(e==360){e=0;clearInterval(f)}d.elem.css({"-moz-transform":("rotate("+e+"deg)"),"-webkit-transform":("rotate("+e+"deg)"),"-o-transform":("rotate("+e+"deg)"),"-ms-transform":("rotate("+e+"deg)"),filter:("progid:DXImageTransform.Microsoft.BasicImage(rotation="+(e/360*4)+")")})},20)})},update:function(c,b,d){if(b.putThing&&this.thingElem){this.thingElem.show()}else{if(!b.putThing&&this.thingElem){this.thingElem.hide()}}if(this.thingElem){this.thingElem.find("i").attr("class",c.styles.athing)}},beforeOpen:function(c,b){},afterOpen:function(c,b){},beforeClose:function(c,b){},afterClose:function(c,b){},beforeDestroy:function(c,b){},afterDestroy:function(c,b){}};a.extend(PNotify.styling.jqueryui,{athing:"ui-icon ui-icon-refresh"});a.extend(PNotify.styling.bootstrap2,{athing:"icon-refresh"});a.extend(PNotify.styling.bootstrap3,{athing:"glyphicon glyphicon-refresh"});a.extend(PNotify.styling.fontawesome,{athing:"fa fa-refresh"})})(jQuery);
// league
function onvictory(t){$.ajax({type:"POST",url:base_url+"public/leaguelist/league_victory",data:{victory:t},cache:!1,dataType:"JSON",success:function(s){if("false"===s.status){var e='<div id="modal_backdrop" class="modal-backdrop fade in"></div>';$("#body_id").append(e),$("#login").addClass("in"),$("#login").show()}else if("delete"===s.status){$("#defeat_img_"+t).attr("src",base_url+"assets/public/img/icon/post/down.png"),$("#victory_img_"+t).attr("src",base_url+"assets/public/img/icon/post/up.png");var a=parseInt($("#point_"+t).text())-1;$("#point_"+t).text(a)}else if("update"===s.status){$("#defeat_img_"+t).attr("src",base_url+"assets/public/img/icon/post/down.png"),$("#victory_img_"+t).attr("src",base_url+"assets/public/img/icon/post/up-hover.png");var a=parseInt($("#point_"+t).text())+2;$("#point_"+t).text(a)}else if("insert"===s.status){$("#defeat_img_"+t).attr("src",base_url+"assets/public/img/icon/post/down.png"),$("#victory_img_"+t).attr("src",base_url+"assets/public/img/icon/post/up-hover.png");var a=parseInt($("#point_"+t).text())+1;$("#point_"+t).text(a)}else location.reload()}})}function ondefeat(t){$.ajax({type:"POST",url:base_url+"public/leaguelist/league_defeat",data:{defeat:t},cache:!1,dataType:"JSON",success:function(s){if("false"==s.status){var e='<div id="modal_backdrop" class="modal-backdrop fade in"></div>';$("#body_id").append(e),$("#login").addClass("in"),$("#login").show()}else if("delete"===s.status){$("#victory_img_"+t).attr("src",base_url+"assets/public/img/icon/post/up.png"),$("#defeat_img_"+t).attr("src",base_url+"assets/public/img/icon/post/down.png");var a=parseInt($("#point_"+t).text())+1;$("#point_"+t).text(a)}else if("update"===s.status){$("#victory_img_"+t).attr("src",base_url+"assets/public/img/icon/post/up.png"),$("#defeat_img_"+t).attr("src",base_url+"assets/public/img/icon/post/down-hover.png");var a=parseInt($("#point_"+t).text())-2;$("#point_"+t).text(a)}else if("insert"===s.status){$("#victory_img_"+t).attr("src",base_url+"assets/public/img/icon/post/up.png"),$("#defeat_img_"+t).attr("src",base_url+"assets/public/img/icon/post/down-hover.png");var a=parseInt($("#point_"+t).text())-1;$("#point_"+t).text(a)}else location.reload()}})}function onfavourites(t){$.ajax({type:"POST",url:base_url+"public/leaguelist/league_favourites",data:{favourites:t},cache:!1,dataType:"JSON",success:function(s){if("false"==s.status){var e='<div id="modal_backdrop" class="modal-backdrop fade in"></div>';$("#body_id").append(e),$("#login").addClass("in"),$("#login").show()}else"delete"===s.status?($("#favourites_img_"+t).attr("src",base_url+"assets/public/img/icon/post/open.png"),new PNotify({title:"Bookmark ",text:"Bookmark Unsaved",type:"info"})):"insert"===s.status?($("#favourites_img_"+t).attr("src",base_url+"assets/public/img/icon/post/open-hover.png"),new PNotify({title:"Bookmark ",text:"Bookmark saved",type:"success"})):location.reload()}})}$(document).ready(function(){$("#login_close").click(function(){$("#login").removeClass("in"),$("#login").hide(),$("#modal_backdrop").remove()})});
// header
function next_page(){var e=$("#anime_count").text(),t=$(".pic_category:checked").val(),a=($(".anime_category:checked").val(),[]);$(".anime_category:checked").each(function(e){a[e]=$(this).val()});var n=$("#upload_title").val(),o=$("#upload_description").val(),i=$("#img_name").val(),l=$("#video_name").val(),c=$("#tag2").val(),s=$("#author").val(),r=$("#credit").val();if($("#check1").is(":checked"))var d=1;else var d=0;if($("#check3").is(":checked"))var u=1;else var u=0;if($("#check2").is(":checked"))var m=1;else var m=0;$.ajax({url:base_url+"public/home/upload_image_next",type:"POST",data:{title:n,description:o,not_safe:d,credit_author:m,image_name:i,video_name:l,tag:c,author:s,credit:r,category:t,spoiler:u,wordd:e},dataType:"json",success:function(e){"success"==e.result?$.ajax({type:"POST",url:base_url+"public/home/last_save_upload_image",dataType:"json",data:{title:n,description:o,not_safe:d,credit_author:m,image_name:i,video_name:l,tag:c,author:s,credit:r,category:t,spoiler:u},success:function(t){"success"==t.result?($(".img-upload").hide(),$("#modal_upload").show(),$("#anime_alert").hide(),$("#close_modal_click").trigger("click"),window.location.reload()):($("#alert").show(),$("#alert").html("<strong>"+e.msg+"</strong>"))}}):"error"==e.result&&(window.parent.scrollTo(0,0),$(".popupContainer").animate({scrollTop:0},"fast"),$("#alert").show(),$("#alert").html("<strong>"+e.msg+"</strong>"))}})}function handle(e){if(32===e.which){var t=$("#tag").val();" "!=t?($("#tag1").append('<a class="btn btn-grey" href="javascript:void(0);" role="button" style="margin-left: 5px;">'+t+' <i class="fa fa-close rem"></i></a>'),$("#tag").val(""),$("#tag2").append(t)):$("#tag").val("")}return!1}function back_image_load(){$("#alert").hide(),$("#cat_alert").hide(),$(".pic_category").attr("checked",!1),$(".upload-category-image").hide(),$(".img-upload").show()}function discussion_next(){var e=tinymce.activeEditor.getContent(),t=$("#discussion_count").val(),a=$("#creditcheck_disc").is(":checked"),n=$("#disc_creditor_site").val(),o=$("#disc_creditor_author").val(),i=$("#dis_desc_span").html(),l=$("#discussion_count").val(),c=$("#discussion_file").val();if($("#discussioncheck").is(":checked"))var s=1;else var s=0;$("#creditcheck_disc").is(":checked")?(n=$("#disc_creditor_site").val(),o=$("#disc_creditor_author").val()):(n="",o=""),$.ajax({type:"POST",url:base_url+"public/home/discussion_next_upload",dataType:"json",data:{discussion_desc:e,discussion_title:t,creditcheck_disc:a,disc_credit:n,disc_author:o,desc_count:i,title_count:l,discussion_file:c,spoiler:s,header_type:1,disc_creditor_site:n,disc_creditor_author:o},success:function(a){"success"===a.result?($(".discuss-upload").hide(),$("#discussionalert").hide(),$(".upload-category-discuss").show(),$.ajax({url:base_url+"public/home/last_save_discussion",type:"POST",data:{title:t,discussion_file:c,description:e,spoiler:s,header_type:1,disc_creditor_site:n,disc_creditor_author:o},dataType:"json",success:function(e){"success"==e.result?($(".discuss-upload").hide(),$("#close_modal_click").trigger("click"),$("#modal_upload").show(),window.location.reload()):"error"==e.result&&(window.parent.scrollTo(0,0),$(".popupContainer").animate({scrollTop:0},"fast"),$("#discussionalert").show(),$("#discussionalert").html("<strong>"+e.msg+"</strong>"))}})):"error"===a.result&&(window.parent.scrollTo(0,0),$(".popupContainer").animate({scrollTop:0},"fast"),$("#discussionalert").show(),$("#discussionalert").html(a.msg))}})}function poll_next(){var e=$("#question").val(),t=$("#discription").val(),a=$("#title").val(),n=[];if($(".option").each(function(e){n[e]=$(this).val()}),$("#in_poll_spoiler").is(":checked"))var o=1;else var o=0;var i=$("#credit_poll_author").is(":checked");if($("#credit_poll_author").is(":checked"))var l=$("#poll_credit").val(),c=$("#poll_author").val();else var l="",c="";$.ajax({type:"POST",url:base_url+"public/home/poll_next_upload",dataType:"json",data:{title:a,question:e,discription:t,answers:n,creditChk:i,credit:l,author:c,spoiler:o},success:function(s){1==s.success?($(".rating-upload").hide(),$(".upload-category-rating").show(),$.ajax({url:base_url+"public/home/last_anime_save",type:"POST",data:{title:a,question:e,discription:t,answers:n,creditChk:i,credit:l,author:c,spoiler:o},dataType:"json",success:function(e){"success"==e.result?($(".upload").show(),$("#close_modal_click").trigger("click"),window.location.reload()):"error"==e.result&&(window.parent.scrollTo(0,0),$(".popupContainer").animate({scrollTop:0},"fast"))}})):(window.parent.scrollTo(0,0),$(".popupContainer").animate({scrollTop:0},"fast"),$("#error_title").html(s.title),$("#error_question").html(s.question),$("#error_option").html(s.option),$("#error_discription").html(s.discription),$("#inline_poll_error_author").html(s.author),$("#inline_poll_error_credit").html(s.credit))}})}function anime_discussion_back(){$(".discuss-upload1").hide(),$(".upload").show()}function search_anime(e){var t=$("#"+e).val(),a=$("."+e).attr("id");$.ajax({url:base_url+"public/home/search_anime_list/",type:"POST",data:{id:t},success:function(e){$("#"+a).html(e)}})}function discussion_upload_cate(){var e=$(".pic_category:checked").val();$.ajax({url:base_url+"public/home/discussion_upload_category",type:"POST",data:{category:e},dataType:"json",success:function(e){"success"==e.result?($(".upload-category-discuss").hide(),$(".anime-category-discuss").show(),$.ajax({type:"POST",url:base_url+"public/home/get_image_upload_animecategory",beforeSend:function(e){$("#anime_catagory_discussion_list").html("Please wait....")},success:function(e){$("#anime_catagory_discussion_list").html(e)}})):"error"==e.result&&($("#discussion_category").show(),$("#discussion_category").html("<strong>"+e.msg+"</strong>"))}})}function disc_facebook_link(){$("#disc_creditor_author").val("http://www.facebook.com/")}function disc_twitter_link(){$("#disc_creditor_site").val("https://www.twitter.com/")}function disc_instagram_link(){$("#disc_creditor_site").val("https://www.instagram.com/")}function disc_facebook_link1(){$("#disc_creditor_author1").val("http://www.facebook.com/")}function disc_twitter_link1(){$("#disc_creditor_site1").val("https://www.twitter.com/")}function disc_instagram_link1(){$("#disc_creditor_site1").val("https://www.instagram.com/")}function facebook_link(){$("#author").val("http://www.facebook.com/")}function twitter_link(){$("#author").val("https://www.twitter.com/")}function instagram_link(){$("#author").val("https://www.instagram.com/")}function albumfacebook_link(){$("#albumcredit").val("http://www.facebook.com/")}function albumtwitter_link(){$("#albumcredit").val("https://www.twitter.com/")}function albuminstagram_link(){$("#albumcredit").val("https://www.instagram.com/")}function urlfacebook_link(){$("#urlcredit").val("http://www.facebook.com/")}function urltwitter_link(){$("#urlcredit").val("https://www.twitter.com/")}function urlinstagram_link(){$("#urlcredit").val("https://www.instagram.com/")}$(document).ready(function(){Dropzone.autoDiscover=!1;var e=new Dropzone("#uploadform");e.on("addedfile",function(e){var t=new FormData;t.append("file",e),$("#alert").hide(),$("#img_name").val(""),$("#video_name").val(""),$("#tag").val(""),$("#upload_title").val(""),$("#author").val(""),$("#check1").attr("checked",!1),$("#credit_author").attr("checked",!1),$(document).ajaxStart(function(){$("#wait").css("display","block")}),$(document).ajaxComplete(function(){$("#wait").css("display","none")}),$("button").click(function(){$("#txt").load("demo_ajax_load.asp")}),$.ajax({url:base_url+"public/home/upload/",type:"POST",data:t,async:!1,dataType:"json",success:function(e){"success"==e.result?($("#alert").hide(),$("#wait").hide(),$("#txt").hide(),$("#img").attr("src",base_url+"uploads/dump/"+e.name),$("#img_name").val(e.name),$("#video_name").val(e.videoname),$("#modal_upload").hide(),$(".img-upload").show(),$.ajax({type:"POST",url:base_url+"public/home/get_image_upload_category",data:{type:"image"},success:function(e){$("#category_list").html(e)}})):"error"==e.result&&($("#upload_alert").show(),$("#upload_alert").html("<strong>"+e.msg+"</strong>"))},cache:!1,contentType:!1,processData:!1}),this.removeFile(e)}),$("#upload_title").keyup(function(){var e,t=150,a=$("#upload_title").val().length;e=t-a,150==e?$("#anime_count").html("150"):e>=0?$("#anime_count").html(e):0>e&&($("#anime_count").html(e),$("#anime_count").css("color","red"))}),$("#main_title").keyup(function(e){var t,t,a=150,n=150,a=150,n=150,o=$("#main_title").val().length;t=a-o,$("#main_title").val().length==n?e.preventDefault():$("#main_title").val().length>n&&(this.value=this.value.substring(0,n)),150==t?$("#albumanime_count").html("150"):t>=0?$("#albumanime_count").html(t):0===t&&($("#albumanime_count").html(t),$("#albumanime_count").css("color","red"))}),$(document).on("keyup",".title_count",function(){var e,t=150,a=$(this).attr("id"),n=a.split("_"),o=n[1],i=document.getElementById("titl_"+o).value.length;e=t-i,e==t?document.getElementById("tit"+o).innerHTML=t:e>=0?document.getElementById("tit"+o).innerHTML=e:0>e&&(document.getElementById("tit"+o).innerHTML=e,document.getElementById("tit"+o).style.color="red")}),$(document).on("keyup",".desc_count",function(){var e,t=150,a=$(this).attr("id"),n=a.split("**"),o=n[1],i=document.getElementById("desr**"+o).value.length;e=t-i,e==t?document.getElementById("dese"+o).innerHTML=t:e>=0?document.getElementById("dese"+o).innerHTML=e:0>e&&(document.getElementById("dese"+o).innerHTML=e)}),$(document).on("keyup",".indesc_count",function(){var e,t=150,a=$(this).attr("id"),n=a.split("**"),o=n[1],i=document.getElementById("indesr**"+o).value.length;e=t-i,e==t?document.getElementById("indese"+o).innerHTML=t:e>=0?document.getElementById("indese"+o).innerHTML=e:0>e&&(document.getElementById("indese"+o).innerHTML=e)});var t,a=150;$(document).on("keyup","#main_title_gamechat",function(){var e=document.getElementById("main_title_gamechat").value.length;t=a-e,150==t?document.getElementById("title_count_gamechat").innerHTML="<span >150</span>":t>=0?document.getElementById("title_count_gamechat").innerHTML="<span>"+t+"</span>":0>t&&(document.getElementById("title_count_gamechat").innerHTML="<span><font color=red>"+t+"</font></span>")});var t,n=250,o=350,a=150;$(document).on("keyup","#title",function(){var e=document.getElementById("title").value.length;t=a-e,150==t?document.getElementById("title_count").innerHTML="<span >150</span>":t>=0?document.getElementById("title_count").innerHTML="<span>"+t+"</span>":0>t&&(document.getElementById("title_count").innerHTML="<span><font color=red>"+t+"</font></span>")}),$(document).on("keyup","#discription",function(){var e=document.getElementById("discription").value.length;t=o-e,350==t?document.getElementById("discription_count").innerHTML="<span >350</span>":t>=0?document.getElementById("discription_count").innerHTML="<span>"+t+"</span>":0>t&&(document.getElementById("discription_count").innerHTML="<span><font color=red>"+t+"</font></span>")}),$(document).on("keyup","#question",function(){var e=document.getElementById("question").value.length;t=a-e,150==t?document.getElementById("question_count").innerHTML="<span>150</span>":t>=0?document.getElementById("question_count").innerHTML="<span>"+t+"</span>":0>t&&(document.getElementById("question_count").innerHTML="<span><font color=red>"+t+"</font></span>")}),$(document).on("keyup",".option",function(){var e=$(this).val().length;t=a-e,150==t?$(this).parent().find(".option_count").html("<span >150</span>"):t>=0?$(this).parent().find(".option_count").html("<span>"+t+"</span>"):0>t&&$(this).parent().find(".option_count").html("<span><font color=red>"+t+"</font></span>")});var t,n=150,o=250;$(document).on("keyup","#discussion_count",function(){var e=document.getElementById("discussion_count").value.length;t=n-e,150==t?document.getElementById("di_count_span").innerHTML=150:t>=0?document.getElementById("di_count_span").innerHTML=t:0>t&&(document.getElementById("di_count_span").innerHTML=t,document.getElementById("di_count_span").style.color="red")}),$(document).on("keyup","#discussion_count1",function(){var e=document.getElementById("discussion_count1").value.length;t=n-e,150==t?document.getElementById("di_count_span1").innerHTML="<span >150</span>":t>=0?document.getElementById("di_count_span1").innerHTML="<span>"+t+"</span>":0>t&&(document.getElementById("di_count_span1").innerHTML="<span><font color=red>"+t+"</font></span>")}),$("#credit_author").change(function(){$(this).is(":checked")?$(".author").show():$(".author").hide()}),$(".dz-details").hide(),$("#image_upload").hide(),$("#pick_load").hide();$("#choose-discuss").click(function(){return $("#modal_upload").hide(),$(".discuss-upload").show(),!1});var i=new Dropzone("#uploadformdiscussion1");i.on("addedfile",function(e){var t=new FormData;t.append("file",e),$.ajax({url:base_url+"public/home/discussupload/",type:"POST",data:t,async:!1,dataType:"json",beforeSend:function(){$("#waitdiscussion1").show()},success:function(e){if("success"==e.result){$("#waitdiscussion1").hide(),$("#discussion_file1").val(e.discussion),$("#modal_upload").hide(),$(".discuss-upload1").show();var t=$("#header_name").val(),a=$("#anime_name_details").val();$("#myModalLabel1").html(a+" > "+t)}else"error"==e.result&&($("#waitdiscussion1").hide(),$("#discussupload_alert1").show(),$("#discussupload_alert1").html("<strong>"+e.msg+"</strong>"))},cache:!1,contentType:!1,processData:!1}),this.removeFile(e)}),$("#image_close").click(function(){$("#image_url_close").trigger("click")}),$("#regi_model").click(function(){$("#login_close_btn").trigger("click")}),$("#urlmodal1").click(function(){$("#url_close").trigger("click")}),$("#upmodal").click(function(){$("#clsurl").trigger("click")}),$(document).on("keyup","#discription",function(){var e=document.getElementById("discription").value.length;t=o-e,350==t?document.getElementById("discription_count").innerHTML="<span >350</span>":t>=0?document.getElementById("discription_count").innerHTML="<span>"+t+"</span>":0>t&&(document.getElementById("discription_count").innerHTML="<span><font color=red>"+t+"</font></span>")}),$(document).on("keyup","#question",function(){var e=document.getElementById("question").value.length;t=a-e,150==t?document.getElementById("question_count").innerHTML="<span>150</span>":t>=0?document.getElementById("question_count").innerHTML="<span>"+t+"</span>":0>t&&(document.getElementById("question_count").innerHTML="<span><font color=red>"+t+"</font></span>")}),$(document).on("keyup",".option",function(){var e=$(this).val().length;t=a-e,150==t?$(this).parent().find(".option_count").html("<span >150</span>"):t>=0?$(this).parent().find(".option_count").html("<span>"+t+"</span>"):0>t&&$(this).parent().find(".option_count").html("<span><font color=red>"+t+"</font></span>")})}),$("#tag1").on("click",".rem",function(){$(this).parent().remove();var e=$("#tag1").text().replace(/\s\s+/g," ");$("#tag2").text($.trim(e))}),$("#albumform").submit(function(e){e.preventDefault();var t=$("#main_title").val(),a=$(".pic_category:checked").val(),n=$("#main_title").val(),o=$("#albumauthor").val(),i=$("#albumcredit").val();if($("#albumcheck2").is(":checked"))var l=1;else var l=0;var c=0;if($("#album-not-safe").is(":checked"))var c=1;if($("#albumcheck3").is(":checked"))var s=1;else var s=0;$.ajax({type:"POST",url:base_url+"public/home/add_albumdata",data:{data:$(this).serialize(),credit_author:l,author:o,credit:i,main_title:n,spolier_val:s,category:a,notsafe:c,word:t},dataType:"json",success:function(e){"success"==e.result?$.ajax({url:base_url+"public/home/last_save_album_image",type:"POST",data:{data:$("#albumform").serialize(),credit_author:l,author:o,credit:i,main_title:n,spolier_val:s,category:a,notsafe:c},dataType:"json",success:function(e){"success"==e.result?($(".album-upload").hide(),$("#modal_upload").show(),$("#close_modal_click").trigger("click"),window.location.reload()):"error"==e.result&&($("#album_alert").show(),$("#album_alert").html("<strong>"+e.msg+"</strong>"))}}):"error"==e.result&&(window.parent.scrollTo(0,0),$(".popupContainer").animate({scrollTop:0},"fast"),$("#album_alert").show(),$("#album_alert").html("<strong>"+e.msg+"</strong>"))}})}),$("#choose-album,#add_more_album").click(function(){$("#uploadalbum").trigger("click")}),$("#uploadalbum").change(function(){$("#showalbum").html("");var e=new FormData($("#album_form")[0]);$.ajax({type:"POST",url:base_url+"public/home/file_upload",mimeType:"multipart/form-data",contentType:!1,data:e,cache:!1,processData:!1,dataType:"json",beforeSend:function(){$(".waitalbum").show()},success:function(e){if("success"==e.result){$(".waitalbum").hide(),$("#albumarea").show(),$("#showalbum").hide(),$("#album_alert").hide(),$("#album_alert1").hide(),$("#modal_upload").hide(),$(".album-upload").show();var t,a=e.firstname,n=a.split(","),o=n.length;for(t=0;o>t;t++)parts=n[t].split("."),loc=parts.pop(),""==loc||"jpg"!=loc&&"jpeg"!=loc&&"gif"!=loc&&"png"!=loc?($("#showalbum").show(),$("#showalbum").append("<strong>Make sure valid file type . Not allowed ."+loc+" file format</strong>")):$("#albumarea").append('<div class="panel panel-default bor-radius-0"  id="rem_'+n[t]+'"  > \n                                                    <span class="delete-panel remove_img" id="'+n[t]+'" ><i class="fa fa-times"></i></span>\n                                                    <div class="panel-body"> \n                                                        <div class="panel-content col-md-12 no-padding">  \n                                                            <a href="">  \n                                                                <div class="img-panel">  \n                                                                <img src="'+base_url+"uploads/league/"+n[t]+'" style="height:100%"> \n                                                                <input type="hidden"  name="img_'+n[t]+'" value="'+n[t]+'" > \n                                                                </div>   \n                                                            </a> \n                                                            <input type="text" placeholder="Give a title here..." class="title_count title-img-upload"  name="'+n[t]+'" maxlength="150"  id="titl_'+n[t]+'"> \n                                                            <div class="pull-right count-right" id="tit'+n[t]+'" style="top: 5px;">\n                                                                 <span >150</span>  \n                                                            </div>\n                                                            <textarea placeholder="Describe your post with tags!"  id="album_tag_'+n[t]+'" data-aid="'+n[t]+'" class="txt-area-tags album_tag"></textarea>\n                                                            <div class="hastag-view-upload" id="album_tag1_'+n[t]+'"></div>\n                                                            <textarea style="display: none" class="form-control desc" name= "album_tag'+n[t]+'" id="album_tag2_'+n[t]+'" rows="2" ></textarea>\n                                                        </div> \n                                                    </div>\n                                                    <div class="wrap-filter-post">\n                                                        <input type="text" maxlength="250"  id="desr**'+n[t]+'" name="desc_'+n[t]+'" class="textarea-resize desc_count" placeholder="Describe your post">\n                                                        <div class="count-right" >\n                                                            <span id="dese'+n[t]+'">250</span>\n                                                        </div>\n                                                    </div>\n                                                </div>  ');$.ajax({type:"POST",url:base_url+"public/home/get_image_upload_category",data:{type:"album"},success:function(e){$("#category_album_list").html(e)}})}else"error"==e.result&&($(".waitalbum").hide(),$("#showalbum").show(),$("#showalbum").html("<strong>"+e.msg+"</strong>"),$("#album_alert,#album_alert1").show(),$("#album_alert,#album_alert1").html("<strong>"+e.msg+"</strong>"))}})}),$(document).on("keyup",".album_tag",function(e){if(32===e.which){var t=$(this).data("aid"),a=document.getElementById("album_tag_"+t).value;if(" "!=a){var n=document.getElementById("album_tag1_"+t);n.innerHTML=n.innerHTML+('<a class="btn btn-grey" href="javascript:void(0);" role="button" style="margin-left: 5px;">'+a+' <i class="fa fa-close album_rem" data-remid="'+t+'"></i></a>'),document.getElementById("album_tag_"+t).value="";var o=document.getElementById("album_tag2_"+t);o.value=o.value+a}else document.getElementById("album_tag_"+t).value=""}return!1}),$(document).on("click",".album_rem",function(){var e=$(this).data("remid");$(this).parent().remove();var t=document.getElementById("album_tag1_"+e).innerHTML,a=document.getElementById("album_tag2_"+e).value=t.replace(/<[^>]*>/g,""),n=a.replace(/\s\s+/g," ");document.getElementById("album_tag2_"+e).value=n.trim()}),$(document).on("click",".remove_img",function(){var e=$(this).attr("id");document.getElementById("rem_"+e).remove(),$(this).remove()}),$("#regi_click").click(function(){$("#login_close").trigger("click")}),$("#login_click").click(function(){$("#sign_close").trigger("click")}),$("#forgetmodal").click(function(){$("#login_close").trigger("click")}),$("#fb_login_model").click(function(){$("#login_close").trigger("click")}),$("#fb_login_model2").click(function(){$("#sign_close").trigger("click")}),$("#choose-rating").click(function(){return $("#modal_upload").hide(),$(".rating-upload").show(),!1}),$("#game-dialogue").click(function(){$("#gamechat_alert").hide(),$("#modal_upload").hide(),$(".gamechat-upload").show()}),$("#add_new_game").click(function(){$("#uploadGamechat").click()}),$("#uploadGamechat").change(function(){var e=new FormData($("#gamechat_form")[0]);$.ajax({type:"POST",url:base_url+"public/home/file_upload",mimeType:"multipart/form-data",contentType:!1,data:e,cache:!1,processData:!1,dataType:"json",beforeSend:function(){$(".waitgamechat").show()},success:function(e){if("success"==e.result){$("#showgamechat").hide(),$(".waitgamechat").hide(),$("#modal_upload").hide(),$(".gamechat-upload").show();var t,a=e.firstname,n=a.split(","),o=n.length;for(t=0;o>t;t++)parts=n[t].split("."),loc=parts.pop(),""==loc||"jpg"!=loc&&"jpeg"!=loc&&"gif"!=loc&&"png"!=loc?($("#showgamechat").show(),$("#showgamechat").append("<strong>Make sure valid file type . Not allowed ."+loc+" file format</strong>")):$("#gamechatarea").append('<a class="remove_gameimg fa fa-remove pull-right" href="javascript:void(0);" data-id="'+n[t]+'" style="margin-top: -8px; margin-right: -5px; color: red;"><a>\n                                                <div class="panel-body" id="gameRem_'+n[t]+'"> \n                                                    <div class="panel-content col-md-12 no-padding"> \n                                                        <input type="hidden"  name="img_'+n[t]+'" value="'+n[t]+'" > \n                                                        <a href="javascript:void(0)"> <div class="img-panel"> <img src="'+base_url+"uploads/league/"+n[t]+'" style="height:100%">  </div> </a> \n                                                        <div class="title-dialogue"> \n                                                            <select  name="opt_'+n[t]+'" > \n                                                                <option value="volvo">Here a title</option> \n                                                                <option value="saab">lalalala</option> \n                                                                <option value="mercedes">Medusa got a rampage</option> \n                                                                <option value="audi">Anti Mage teach</option> \n                                                            </select> <hr>  \n                                                            <textarea placeholder="Dialogue" class="desc_count" name="desc_'+n[t]+'" maxlength="150" id="desr**'+n[t]+'"></textarea> \n                                                        </div>  \n                                                        <div class="count-right" id="dese'+n[t]+'"> <span>150</span> </div> \n                                                    </div> \n                                                </div>')}else"error"==e.result&&($(".waitgamechat").hide(),$("#showgamechat").show(),$("#showgamechat").html("<strong>"+e.msg+"</strong>"))}})}),$("#gameform").submit(function(e){e.preventDefault();var t=$("#splashart_model").val(),a=$("#main_title_gamechat").val();$.ajax({type:"POST",url:base_url+"public/home/add_gamechatdata",data:{data:$(this).serialize(),splashart_model:t,main_title:a},dataType:"json",success:function(e){"success"==e.result?($("#gamechat_alert").hide(),window.location.reload()):"error"==e.result&&(window.parent.scrollTo(0,0),$(".popupContainer").animate({scrollTop:0},"fast"),$("#gamechat_alert").show(),$("#gamechat_alert").html("<strong>"+e.msg+"</strong>"))}})}),$(document).on("click",".remove_gameimg",function(){var e=$(this).data("id");document.getElementById("gameRem_"+e).remove(),$(this).remove()});
